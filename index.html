<?php
session_start();

// Check if user is logged in
if (!isset($_SESSION['user_id'])) {
    header('Location: index.html');
    exit();
}

$user_name = $_SESSION['user_name'];
$user_email = $_SESSION['user_email'];
?>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Algorithm Visualizer Pro</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=JetBrains+Mono:wght@300;400;500&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --primary: #6366f1;
            --primary-light: #818cf8;
            --primary-dark: #4f46e5;
            --secondary: #8b5cf6;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --info: #3b82f6;
            --purple: #a855f7;
            --pink: #ec4899;
            --cyan: #06b6d4;
            --text: #1f2937;
            --text-light: #6b7280;
            --background: #f9fafb;
            --white: #ffffff;
            --border: #e5e7eb;
            --radius-lg: 16px;
            --radius-md: 12px;
            --radius-sm: 8px;
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.06);
            --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.08);
            --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.12);
            --shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.15);
            --glass-bg: rgba(255, 255, 255, 0.85);
            --glass-border: rgba(255, 255, 255, 0.3);
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-success: linear-gradient(135deg, #10b981 0%, #047857 100%);
            --gradient-warning: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            --gradient-danger: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            --gradient-info: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            --gradient-purple: linear-gradient(135deg, #a855f7 0%, #7c3aed 100%);
            --gradient-pink: linear-gradient(135deg, #ec4899 0%, #db2777 100%);
            --gradient-cyan: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
            --gradient-queue: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e7ec 100%);
            min-height: 100vh;
            color: var(--text);
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
        }

        ::selection {
            background: rgba(99, 102, 241, 0.2);
            color: var(--primary);
        }

        /* Animated Background */
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .bg-circle {
            position: absolute;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
            animation: float 20s infinite ease-in-out;
        }

        .bg-circle:nth-child(1) {
            width: 300px;
            height: 300px;
            top: -100px;
            left: -100px;
            animation-delay: 0s;
        }

        .bg-circle:nth-child(2) {
            width: 200px;
            height: 200px;
            top: 50%;
            right: -50px;
            animation-delay: 5s;
        }

        .bg-circle:nth-child(3) {
            width: 150px;
            height: 150px;
            bottom: -50px;
            left: 30%;
            animation-delay: 10s;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0) rotate(0deg);
            }

            33% {
                transform: translateY(-20px) rotate(120deg);
            }

            66% {
                transform: translateY(20px) rotate(240deg);
            }
        }

        /* Modern Navbar */
        .navbar {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow-md);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid var(--glass-border);
            animation: slideDown 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideDown {
            from {
                transform: translateY(-100%);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
            text-decoration: none;
        }

        .logo-icon {
            width: 50px;
            height: 50px;
            background: var(--gradient-primary);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            color: white;
            animation: pulseGlow 2s infinite alternate;
            box-shadow: 0 4px 20px rgba(99, 102, 241, 0.4);
        }

        @keyframes pulseGlow {
            0% {
                box-shadow: 0 4px 20px rgba(99, 102, 241, 0.4);
                transform: scale(1);
            }

            100% {
                box-shadow: 0 4px 30px rgba(99, 102, 241, 0.6);
                transform: scale(1.05);
            }
        }

        .logo-text {
            display: flex;
            flex-direction: column;
        }

        .logo-text h1 {
            font-size: 1.6rem;
            font-weight: 700;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.2;
        }

        .logo-text span {
            font-size: 0.85rem;
            color: var(--text-light);
            font-weight: 400;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .user-avatar {
            width: 45px;
            height: 45px;
            background: var(--gradient-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 1.2rem;
            box-shadow: var(--shadow-sm);
            animation: subtleFloat 3s ease-in-out infinite;
        }

        .user-avatar img {
            width: 70px;
            border-radius: 60px;
            height: 63px;

        }


        @keyframes subtleFloat {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-5px);
            }
        }

        .user-details {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }

        .user-name {
            font-weight: 600;
            color: var(--text);
            font-size: 1rem;
        }

        .user-email {
            font-size: 0.85rem;
            color: var(--text-light);
        }

        .logout-btn {
            background: var(--gradient-danger);
            color: white;
            border: none;
            padding: 10px 24px;
            border-radius: var(--radius-md);
            cursor: pointer;
            font-weight: 600;
            font-size: 0.95rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);
            position: relative;
            overflow: hidden;
        }

        .logout-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .logout-btn:hover::before {
            left: 100%;
        }

        .logout-btn:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 6px 20px rgba(239, 68, 68, 0.4);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            position: relative;
            z-index: 1;
            flex: 1;
        }

        /* Hero Section */
        .hero-section {
            text-align: center;
            margin-bottom: 3rem;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            padding: 4rem 2rem;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-lg);
            position: relative;
            overflow: hidden;
            border: 1px solid var(--glass-border);
            animation: fadeInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% {
                background-position: -200% center;
            }

            100% {
                background-position: 200% center;
            }
        }

        .hero-title {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, var(--primary), var(--secondary), var(--purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            background-size: 200% auto;
            animation: gradientShift 3s ease-in-out infinite alternate;
        }

        @keyframes gradientShift {
            0% {
                background-position: 0% center;
            }

            100% {
                background-position: 100% center;
            }
        }

        .hero-subtitle {
            font-size: 1.2rem;
            color: var(--text-light);
            max-width: 600px;
            margin: 0 auto 2rem;
            line-height: 1.6;
        }

        .hero-stats {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 1.5rem;
            background: var(--glass-bg);
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-sm);
            min-width: 120px;
            border: 1px solid var(--glass-border);
            transition: all 0.3s ease;
        }

        .stat-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-md);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-light);
            font-weight: 500;
        }

        /* Categories */
        .categories {
            display: flex;
            gap: 1rem;
            margin-bottom: 2.5rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .category-btn {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            padding: 14px 28px;
            border-radius: var(--radius-md);
            cursor: pointer;
            font-weight: 600;
            color: var(--text);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1rem;
            box-shadow: var(--shadow-sm);
            position: relative;
            overflow: hidden;
        }

        .category-btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.1), transparent);
            transition: left 0.6s;
        }

        .category-btn:hover::after {
            left: 100%;
        }

        .category-btn.active {
            background: var(--gradient-primary);
            color: white;
            border-color: transparent;
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.4);
        }

        .category-btn:hover:not(.active) {
            transform: translateY(-3px);
            border-color: var(--primary);
            box-shadow: var(--shadow-md);
        }

        /* Algorithm Cards Grid */
        .algorithms-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .algorithm-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-lg);
            padding: 2rem;
            box-shadow: var(--shadow-md);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            animation: cardAppear 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        @keyframes cardAppear {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .algorithm-card:nth-child(1) {
            animation-delay: 0.1s;
        }

        .algorithm-card:nth-child(2) {
            animation-delay: 0.2s;
        }

        .algorithm-card:nth-child(3) {
            animation-delay: 0.3s;
        }

        .algorithm-card:nth-child(4) {
            animation-delay: 0.4s;
        }

        .algorithm-card:nth-child(5) {
            animation-delay: 0.5s;
        }

        .algorithm-card:nth-child(6) {
            animation-delay: 0.6s;
        }

        .algorithm-card:nth-child(7) {
            animation-delay: 0.7s;
        }

        .algorithm-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }

        .algorithm-card:hover::before {
            transform: translateX(0);
        }

        .algorithm-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: var(--shadow-xl);
            border-color: var(--primary);
        }

        .card-header {
            display: flex;
            align-items: flex-start;
            gap: 1.2rem;
            margin-bottom: 1.5rem;
        }

        .card-icon {
            width: 60px;
            height: 60px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            color: white;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: var(--shadow-md);
        }

        .algorithm-card:hover .card-icon {
            transform: rotate(10deg) scale(1.1);
        }

        .bubble-sort {
            background: var(--gradient-primary);
        }

        .insertion-sort {
            background: var(--gradient-success);
        }

        .selection-sort {
            background: var(--gradient-warning);
        }

        .linear-search {
            background: var(--gradient-info);
        }

        .binary-search {
            background: var(--gradient-purple);
        }

        .linked-list {
            background: var(--gradient-pink);
        }

        .queue {
            background: var(--gradient-queue);
        }

        .card-title {
            flex: 1;
        }

        .card-title h3 {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 0.5rem;
            line-height: 1.3;
        }

        .card-badge {
            background: rgba(99, 102, 241, 0.1);
            color: var(--primary);
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            border: 1px solid rgba(99, 102, 241, 0.2);
        }

        .card-description {
            color: var(--text-light);
            margin-bottom: 1.5rem;
            line-height: 1.6;
            font-size: 0.95rem;
        }

        .card-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border);
        }

        .complexity {
            display: flex;
            gap: 10px;
        }

        .complexity-badge {
            padding: 8px 16px;
            border-radius: var(--radius-sm);
            font-size: 0.85rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
        }

        .time-complexity {
            color: var(--primary);
        }

        .space-complexity {
            color: var(--info);
        }

        .explore-btn {
            background: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 8px 16px;
            border-radius: var(--radius-sm);
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .explore-btn:hover {
            background: var(--primary);
            color: white;
            transform: translateX(5px);
        }

        /* Documentation Section */
        .documentation-section {
            background: var(--glass-bg);
            backdrop-filter: blur(30px);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-xl);
            margin-top: 2rem;
            display: none;
            animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
        }

        .documentation-section.active {
            display: block;
        }

        .doc-header {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
            padding: 2rem 2.5rem;
            border-bottom: 1px solid var(--glass-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
        }

        .doc-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
        }

        .doc-title {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .doc-title-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            box-shadow: var(--shadow-md);
        }

        .doc-title-text h2 {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 0.3rem;
        }

        .doc-title-text p {
            color: var(--text-light);
            font-size: 0.95rem;
        }

        .close-doc {
            background: var(--danger);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-sm);
        }

        .close-doc:hover {
            transform: rotate(90deg) scale(1.1);
            background: #dc2626;
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.4);
        }

        .doc-nav {
            display: flex;
            gap: 0.5rem;
            padding: 1.5rem 2.5rem;
            border-bottom: 1px solid var(--border);
            flex-wrap: wrap;
            background: var(--glass-bg);
        }

        .doc-nav-btn {
            background: transparent;
            border: 1px solid var(--border);
            padding: 10px 20px;
            border-radius: var(--radius-md);
            cursor: pointer;
            font-weight: 500;
            color: var(--text);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.95rem;
        }

        .doc-nav-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            box-shadow: var(--shadow-sm);
        }

        .doc-nav-btn:hover:not(.active) {
            border-color: var(--primary);
            color: var(--primary);
            transform: translateY(-2px);
        }

        .doc-content {
            padding: 2.5rem;
        }

        .doc-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .doc-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        /* Enhanced Code Display */
        .code-container {
            background: #1a1b26;
            border-radius: var(--radius-md);
            overflow: hidden;
            margin: 1.5rem 0;
            border: 1px solid #2a2b3c;
            box-shadow: var(--shadow-lg);
            animation: codeSlideIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes codeSlideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.5rem;
            background: #252631;
            border-bottom: 1px solid #2a2b3c;
        }

        .code-title {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #a9b1d6;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.95rem;
            font-weight: 500;
        }

        .code-actions {
            display: flex;
            gap: 8px;
        }

        .code-btn {
            background: rgba(99, 102, 241, 0.2);
            color: var(--primary);
            border: 1px solid rgba(99, 102, 241, 0.3);
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
            font-family: 'JetBrains Mono', monospace;
            font-weight: 500;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .code-btn:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }

        .code-body {
            overflow-x: auto;
            padding: 1.5rem;
        }

        .code-editor {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.95rem;
            line-height: 1.6;
            color: #c0caf5;
            min-width: 600px;
        }

        .code-line {
            display: flex;
            gap: 1rem;
            padding: 2px 0;
            transition: background 0.2s;
        }

        .code-line:hover {
            background: rgba(99, 102, 241, 0.05);
        }

        .line-number {
            color: #565f89;
            font-size: 0.9rem;
            min-width: 40px;
            text-align: right;
            user-select: none;
        }

        .code-content {
            flex: 1;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.95rem;
            white-space: pre-wrap;
            word-wrap: break-word;
            tab-size: 4;
        }

        .code-keyword {
            color: #bb9af7;
        }

        .code-type {
            color: #7dcfff;
        }

        .code-string {
            color: #9ece6a;
        }

        .code-comment {
            color: #565f89;
            font-style: italic;
        }

        .code-number {
            color: #ff9e64;
        }

        .code-function {
            color: #7aa2f7;
        }

        .code-operator {
            color: #89ddff;
        }

        .code-macro {
            color: #ff9e64;
        }

        .code-class {
            color: #e0af68;
        }

        /* Algorithm Steps */
        .algorithm-steps {
            margin: 2rem 0;
        }

        .step {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-md);
            padding: 1.5rem;
            margin-bottom: 1rem;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            animation: stepAppear 0.5s ease forwards;
            opacity: 0;
            transform: translateX(-20px);
        }

        @keyframes stepAppear {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .step:hover {
            transform: translateX(10px);
            box-shadow: var(--shadow-md);
            border-color: var(--primary);
        }

        .step-number {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 1rem;
        }

        .step-circle {
            width: 32px;
            height: 32px;
            background: var(--gradient-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 0.9rem;
            box-shadow: var(--shadow-sm);
        }

        .step-title {
            font-weight: 600;
            color: var(--text);
            font-size: 1.1rem;
        }

        .step-content {
            color: var(--text-light);
            line-height: 1.6;
        }

        .step-content ul {
            padding-left: 1.5rem;
            margin: 0.5rem 0;
        }

        .step-content li {
            margin-bottom: 0.5rem;
        }

        /* Complexity Chart */
        .complexity-chart {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-md);
            padding: 2rem;
            margin: 2rem 0;
        }

        .chart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .chart-item {
            text-align: center;
            padding: 1.5rem;
            background: var(--glass-bg);
            border-radius: var(--radius-md);
            border: 1px solid var(--glass-border);
            transition: all 0.3s ease;
        }

        .chart-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-md);
        }

        .chart-label {
            font-size: 0.9rem;
            color: var(--text-light);
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .chart-value {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .chart-value.best {
            color: var(--success);
        }

        .chart-value.average {
            color: var(--warning);
        }

        .chart-value.worst {
            color: var(--danger);
        }

        .chart-value.space {
            color: var(--info);
        }

        .chart-description {
            font-size: 0.85rem;
            color: var(--text-light);
            line-height: 1.4;
        }

        /* Visualization Section */
        .visualization-section {
            margin-top: 2rem;
            animation: fadeIn 0.6s ease;
        }

        .vis-header {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
            padding: 1.5rem 2rem;
            border-radius: var(--radius-md);
            margin-bottom: 2rem;
            border: 1px solid var(--glass-border);
        }

        .vis-header h3 {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 0.5rem;
        }

        .vis-header p {
            color: var(--text-light);
            font-size: 0.95rem;
            max-width: 800px;
        }

        /* Functionality Navigation */
        .functionality-nav {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .func-btn {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            padding: 12px 24px;
            border-radius: var(--radius-md);
            cursor: pointer;
            font-weight: 600;
            color: var(--text);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.95rem;
            position: relative;
            overflow: hidden;
        }

        .func-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.1), transparent);
            transition: left 0.6s;
        }

        .func-btn:hover::before {
            left: 100%;
        }

        .func-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
        }

        .func-btn:hover:not(.active) {
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
        }

        /* Controls */
        .controls-section {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-lg);
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow-md);
        }

        .controls-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .control-label {
            font-weight: 600;
            color: var(--text);
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .control-input {
            padding: 12px;
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            font-size: 1rem;
            font-family: 'Poppins', sans-serif;
            transition: all 0.3s;
            background: var(--glass-bg);
        }

        .control-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .control-select {
            padding: 12px;
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            font-size: 1rem;
            font-family: 'Poppins', sans-serif;
            background: var(--glass-bg);
            cursor: pointer;
            transition: all 0.3s;
        }

        .control-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .control-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            align-items: center;
        }

        .control-btn {
            padding: 12px 24px;
            border: none;
            border-radius: var(--radius-md);
            cursor: pointer;
            font-weight: 600;
            font-size: 0.95rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: var(--shadow-sm);
            position: relative;
            overflow: hidden;
        }

        .control-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s;
        }

        .control-btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: var(--gradient-primary);
            color: white;
        }

        .btn-success {
            background: var(--gradient-success);
            color: white;
        }

        .btn-danger {
            background: var(--gradient-danger);
            color: white;
        }

        .btn-warning {
            background: var(--gradient-warning);
            color: white;
        }

        .btn-info {
            background: var(--gradient-info);
            color: white;
        }

        .btn-purple {
            background: var(--gradient-purple);
            color: white;
        }

        .btn-pink {
            background: var(--gradient-pink);
            color: white;
        }

        .btn-queue {
            background: var(--gradient-queue);
            color: white;
        }

        .control-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: var(--shadow-lg);
        }

        .visualize-btn {
            padding: 14px 32px;
            font-size: 1.1rem;
            background: var(--gradient-primary);
            color: white;
            border-radius: var(--radius-md);
            border: none;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 20px rgba(99, 102, 241, 0.4);
            position: relative;
            overflow: hidden;
        }

        .visualize-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.7s;
        }

        .visualize-btn:hover::before {
            left: 100%;
        }

        .visualize-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 30px rgba(99, 102, 241, 0.6);
        }

        /* Visualization Area */
        .visualization-area {
            min-height: 400px;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-lg);
            margin-bottom: 2rem;
            padding: 2rem;
            box-shadow: var(--shadow-md);
            position: relative;
            overflow: hidden;
        }

        .visualization-area::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
            animation: shimmer 3s infinite;
        }

        /* Array Visualization */
        .array-container {
            display: flex;
            gap: 1rem;
            align-items: flex-end;
            justify-content: center;
            height: 300px;
            padding: 2rem;
            position: relative;
        }

        .array-element {
            width: 60px;
            background: var(--gradient-primary);
            border-radius: 8px 8px 0 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
            position: relative;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: var(--shadow-sm);
            animation: barAppear 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes barAppear {
            from {
                opacity: 0;
                transform: translateY(50px) scale(0.5);
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .element-value {
            color: white;
            font-weight: 600;
            font-size: 1.1rem;
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .element-index {
            position: absolute;
            bottom: -25px;
            left: 0;
            right: 0;
            text-align: center;
            color: var(--text-light);
            font-size: 0.9rem;
            font-weight: 500;
        }

        .array-element.comparing {
            background: var(--gradient-warning);
            transform: scale(1.1);
            z-index: 10;
            animation: pulse 0.5s infinite alternate;
        }

        @keyframes pulse {
            from {
                box-shadow: 0 0 20px rgba(245, 158, 11, 0.4);
            }

            to {
                box-shadow: 0 0 30px rgba(245, 158, 11, 0.6);
            }
        }

        .array-element.swapping {
            background: var(--gradient-danger);
            transform: scale(1.1);
            z-index: 10;
            animation: shake 0.3s ease-in-out;
        }

        @keyframes shake {

            0%,
            100% {
                transform: translateX(0) scale(1.1);
            }

            25% {
                transform: translateX(-5px) scale(1.1);
            }

            75% {
                transform: translateX(5px) scale(1.1);
            }
        }

        .array-element.sorted {
            background: var(--gradient-success);
        }

        .array-element.found {
            background: var(--gradient-info);
            transform: scale(1.2);
            z-index: 20;
            animation: foundGlow 0.5s ease-in-out 3;
        }

        @keyframes foundGlow {

            0%,
            100% {
                box-shadow: 0 0 20px rgba(59, 130, 246, 0.4);
            }

            50% {
                box-shadow: 0 0 40px rgba(59, 130, 246, 0.8);
            }
        }

        .array-element.current {
            background: var(--gradient-purple);
            transform: scale(1.1);
            z-index: 10;
            animation: glow 1s infinite alternate;
        }

        @keyframes glow {
            from {
                box-shadow: 0 0 15px rgba(168, 85, 247, 0.4);
            }

            to {
                box-shadow: 0 0 25px rgba(168, 85, 247, 0.7);
            }
        }

        .array-element.search-area {
            background: var(--gradient-warning);
            animation: searchAreaPulse 1s infinite alternate;
        }

        @keyframes searchAreaPulse {
            from {
                box-shadow: 0 0 15px rgba(245, 158, 11, 0.4);
                opacity: 0.8;
            }

            to {
                box-shadow: 0 0 25px rgba(245, 158, 11, 0.6);
                opacity: 1;
            }
        }

        .array-element.left-pointer {
            border: 3px solid var(--success);
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.5);
        }

        .array-element.right-pointer {
            border: 3px solid var(--danger);
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.5);
        }

        .array-element.mid-pointer {
            border: 3px solid var(--info);
            box-shadow: 0 0 25px rgba(59, 130, 246, 0.6);
            transform: scale(1.15);
        }

        /* SMALLER Linked List Visualization */
        .linked-list-container {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            align-items: center;
            padding: 1rem;
            overflow-x: auto;
            min-height: 150px;
            position: relative;
        }

        .head-pointer {
            position: absolute;
            top: -30px;
            left: 30px;
            background: var(--gradient-primary);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.8rem;
            box-shadow: var(--shadow-sm);
            z-index: 100;
            animation: slideInDown 0.5s ease;
        }

        .traversing-pointer {
            position: absolute;
            top: -30px;
            background: var(--gradient-warning);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.8rem;
            box-shadow: var(--shadow-sm);
            z-index: 100;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* SMALLER Linked List Nodes */
        .linked-list-node {
            min-width: 120px;
            background: var(--glass-bg);
            border: 2px solid var(--gradient-pink);
            border-radius: var(--radius-sm);
            padding: 0.8rem;
            position: relative;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: var(--shadow-sm);
            animation: nodeAppear 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes nodeAppear {
            from {
                opacity: 0;
                transform: scale(0.8) rotate(-180deg);
            }

            to {
                opacity: 1;
                transform: scale(1) rotate(0);
            }
        }

        .node-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border);
        }

        .node-data {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--pink);
            text-shadow: 0 2px 4px rgba(236, 72, 153, 0.2);
        }

        .node-index {
            font-size: 0.7rem;
            color: var(--text-light);
            font-weight: 600;
            background: var(--background);
            padding: 2px 8px;
            border-radius: 12px;
        }

        .node-pointers {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .pointer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.75rem;
        }

        .pointer-label {
            color: var(--text-light);
            font-weight: 500;
        }

        .pointer-address {
            color: var(--info);
            font-family: 'JetBrains Mono', monospace;
            background: var(--background);
            padding: 2px 6px;
            border-radius: 4px;
            border: 1px solid var(--border);
            font-size: 0.7rem;
        }

        .linked-list-arrow {
            font-size: 1.2rem;
            color: var(--primary);
            animation: arrowPulse 2s infinite;
            position: relative;
        }

        @keyframes arrowPulse {

            0%,
            100% {
                transform: translateX(0);
                opacity: 1;
            }

            50% {
                transform: translateX(3px);
                opacity: 0.7;
            }
        }

        .linked-list-arrow.traversing {
            color: var(--warning);
            animation: traversingArrow 0.5s infinite alternate;
        }

        @keyframes traversingArrow {
            0% {
                transform: scale(1);
                color: var(--warning);
            }

            100% {
                transform: scale(1.2);
                color: var(--danger);
            }
        }

        .linked-list-node.traversing {
            animation: traverseNode 1s infinite;
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.5);
            z-index: 10;
            border-color: var(--warning);
        }

        @keyframes traverseNode {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }
        }

        .linked-list-node.inserting {
            animation: nodeInsert 1.2s cubic-bezier(0.4, 0, 0.2, 1);
            border-color: var(--success);
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.4);
        }

        @keyframes nodeInsert {
            0% {
                opacity: 0;
                transform: scale(0) rotate(-180deg);
            }

            50% {
                opacity: 0.5;
                transform: scale(1.1) rotate(-90deg);
            }

            100% {
                opacity: 1;
                transform: scale(1) rotate(0);
            }
        }

        .linked-list-node.deleting {
            animation: nodeDelete 1.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
            border-color: var(--danger);
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.4);
        }

        @keyframes nodeDelete {
            0% {
                opacity: 1;
                transform: scale(1) rotate(0);
            }

            50% {
                opacity: 0.5;
                transform: scale(1.1) rotate(90deg);
            }

            100% {
                opacity: 0;
                transform: scale(0) rotate(180deg);
            }
        }

        .linked-list-node.highlight {
            border-color: var(--info);
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.5);
            animation: highlightNode 1s ease-in-out infinite alternate;
        }

        @keyframes highlightNode {
            from {
                transform: scale(1);
            }

            to {
                transform: scale(1.05);
            }
        }

        .new-node {
            position: fixed;
            background: var(--gradient-success);
            color: white;
            padding: 0.8rem;
            border-radius: var(--radius-sm);
            font-size: 1rem;
            font-weight: 600;
            z-index: 1000;
            box-shadow: var(--shadow-md);
            animation: floatNode 2s ease-in-out;
        }

        @keyframes floatNode {
            0% {
                opacity: 0;
                transform: translate(0, 0) scale(0);
            }

            50% {
                opacity: 1;
                transform: translate(80px, -40px) scale(1.1);
            }

            100% {
                opacity: 0;
                transform: translate(160px, 0) scale(0);
            }
        }

        /* Queue Visualization */
        .queue-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
            padding: 2rem;
        }

        .queue-visualization {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            position: relative;
            min-height: 200px;
        }

        .queue-element {
            min-width: 80px;
            min-height: 80px;
            background: var(--gradient-queue);
            border-radius: var(--radius-md);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: var(--shadow-md);
            animation: queueAppear 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes queueAppear {
            from {
                opacity: 0;
                transform: translateY(20px) scale(0.8);
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .queue-value {
            color: white;
            font-weight: 700;
            font-size: 1.2rem;
            margin-bottom: 4px;
        }

        .queue-position {
            position: absolute;
            bottom: -25px;
            left: 0;
            right: 0;
            text-align: center;
            color: var(--text-light);
            font-size: 0.8rem;
            font-weight: 500;
        }

        .front-pointer,
        .rear-pointer {
            position: absolute;
            background: var(--gradient-warning);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.8rem;
            box-shadow: var(--shadow-sm);
            z-index: 100;
            animation: slideInDown 0.5s ease;
        }

        .front-pointer {
            top: -40px;
        }

        .rear-pointer {
            bottom: -40px;
        }

        .queue-element.enqueuing {
            animation: enqueueEffect 1s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid var(--success);
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.4);
        }

        @keyframes enqueueEffect {
            0% {
                opacity: 0;
                transform: translateY(-20px) scale(0.8);
            }

            50% {
                opacity: 1;
                transform: translateY(0) scale(1.1);
            }

            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .queue-element.dequeuing {
            animation: dequeueEffect 1s cubic-bezier(0.4, 0, 0.2, 1) forwards;
            border: 2px solid var(--danger);
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.4);
        }

        @keyframes dequeueEffect {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }

            50% {
                opacity: 0.5;
                transform: translateY(-20px) scale(1.1);
            }

            100% {
                opacity: 0;
                transform: translateY(-40px) scale(0.8);
            }
        }

        .queue-status {
            text-align: center;
            padding: 1rem;
            background: var(--glass-bg);
            border-radius: var(--radius-md);
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-sm);
        }

        .queue-info {
            display: flex;
            gap: 2rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .info-item {
            text-align: center;
            padding: 1rem;
            min-width: 120px;
        }

        .info-value {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .front-value {
            color: var(--success);
        }

        .rear-value {
            color: var(--warning);
        }

        .size-value {
            color: var(--info);
        }

        .info-label {
            font-size: 0.9rem;
            color: var(--text-light);
            font-weight: 500;
        }

        /* Path animation for traversal */
        .traversal-path {
            position: absolute;
            height: 4px;
            background: var(--gradient-warning);
            z-index: 50;
            transform-origin: left center;
            animation: drawPath 0.5s ease-out forwards;
        }

        @keyframes drawPath {
            from {
                transform: scaleX(0);
            }

            to {
                transform: scaleX(1);
            }
        }

        /* Search Pointers */
        .search-pointer {
            position: absolute;
            bottom: -50px;
            background: var(--gradient-info);
            color: white;
            padding: 6px 12px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 0.85rem;
            box-shadow: var(--shadow-sm);
            z-index: 50;
            animation: pointerAppear 0.3s ease;
        }

        .search-pointer.left {
            background: var(--gradient-success);
        }

        .search-pointer.right {
            background: var(--gradient-danger);
        }

        .search-pointer.mid {
            background: var(--gradient-info);
            transform: scale(1.1);
        }

        @keyframes pointerAppear {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Info Panel */
        .info-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-lg);
            padding: 2rem;
            box-shadow: var(--shadow-md);
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }

        .info-card {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-md);
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .info-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-md);
            border-color: var(--primary);
        }

        .info-icon {
            width: 50px;
            height: 50px;
            background: var(--gradient-primary);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            margin: 0 auto 1rem;
            box-shadow: var(--shadow-sm);
        }

        .info-value {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
        }

        .comparison-count {
            color: var(--primary);
        }

        .swap-count {
            color: var(--danger);
        }

        .operations-count {
            color: var(--warning);
        }

        .time-taken {
            color: var(--success);
        }

        .found-index {
            color: var(--info);
        }

        .array-size {
            color: var(--purple);
        }

        .info-label {
            font-size: 0.9rem;
            color: var(--text-light);
            font-weight: 500;
        }

        /* Footer */
        .footer {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-top: 1px solid var(--glass-border);
            padding: 3rem 2rem 2rem;
            margin-top: auto;
            position: relative;
            z-index: 1;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
        }

        .footer-section {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .footer-logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            margin-bottom: 1rem;
        }

        .footer-logo-icon {
            width: 40px;
            height: 40px;
            background: var(--gradient-primary);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: white;
        }

        .footer-logo-text h3 {
            font-size: 1.2rem;
            font-weight: 700;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.2;
        }

        .footer-description {
            color: var(--text-light);
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .footer-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 1rem;
        }

        .footer-links {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .footer-links a {
            color: var(--text-light);
            text-decoration: none;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }

        .footer-links a:hover {
            color: var(--primary);
            transform: translateX(5px);
        }

        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .social-icon {
            width: 36px;
            height: 36px;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text);
            transition: all 0.3s;
            text-decoration: none;
        }

        .social-icon:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
        }

        .footer-bottom {
            max-width: 1400px;
            margin: 2rem auto 0;
            padding-top: 2rem;
            border-top: 1px solid var(--glass-border);
            text-align: center;
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .copyright {
            margin-bottom: 0.5rem;
        }

        .footer-bottom-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .footer-bottom-links a {
            color: var(--text-light);
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-bottom-links a:hover {
            color: var(--primary);
        }

        /* Scroll to Top */
        .scroll-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: var(--gradient-primary);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: none;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: var(--shadow-lg);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            animation: bounceIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes bounceIn {
            0% {
                opacity: 0;
                transform: scale(0.3) rotate(-180deg);
            }

            50% {
                transform: scale(1.1) rotate(0);
            }

            100% {
                opacity: 1;
                transform: scale(1) rotate(0);
            }
        }

        .scroll-top.show {
            display: flex;
        }

        .scroll-top:hover {
            transform: scale(1.1) translateY(-5px);
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.5);
        }

        /* Toast Notifications */
        .toast-container {
            position: fixed;
            bottom: 30px;
            left: 30px;
            z-index: 1000;
        }

        .toast {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-md);
            padding: 1rem 1.5rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: var(--shadow-lg);
            animation: slideInLeft 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            min-width: 300px;
            transform-origin: left bottom;
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px) scale(0.9);
            }

            to {
                opacity: 1;
                transform: translateX(0) scale(1);
            }
        }

        .toast.success {
            border-left: 4px solid var(--success);
        }

        .toast.error {
            border-left: 4px solid var(--danger);
        }

        .toast.warning {
            border-left: 4px solid var(--warning);
        }

        .toast.info {
            border-left: 4px solid var(--info);
        }

        .toast-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            color: white;
        }

        .toast.success .toast-icon {
            background: var(--gradient-success);
        }

        .toast.error .toast-icon {
            background: var(--gradient-danger);
        }

        .toast.warning .toast-icon {
            background: var(--gradient-warning);
        }

        .toast.info .toast-icon {
            background: var(--gradient-info);
        }

        .toast-content {
            flex: 1;
        }

        .toast-title {
            font-weight: 600;
            color: var(--text);
            margin-bottom: 0.3rem;
        }

        .toast-message {
            font-size: 0.9rem;
            color: var(--text-light);
        }

        .toast-close {
            background: transparent;
            border: none;
            color: var(--text-light);
            cursor: pointer;
            padding: 4px;
            border-radius: 4px;
            transition: all 0.2s;
        }

        .toast-close:hover {
            color: var(--danger);
            background: rgba(239, 68, 68, 0.1);
        }

        /* Loading Spinner */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .container {
                padding: 1.5rem;
            }

            .algorithms-grid {
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .navbar {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
                padding: 1rem;
            }

            .user-info {
                flex-direction: column;
                gap: 1rem;
            }

            .hero-title {
                font-size: 2rem;
            }

            .hero-subtitle {
                font-size: 1rem;
            }

            .algorithms-grid {
                grid-template-columns: 1fr;
            }

            .categories,
            .functionality-nav {
                justify-content: center;
            }

            .doc-header,
            .doc-nav,
            .doc-content {
                padding: 1rem;
            }

            .controls-grid {
                grid-template-columns: 1fr;
            }

            .footer-content {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .social-links {
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .hero-title {
                font-size: 1.8rem;
            }

            .category-btn,
            .func-btn {
                padding: 10px 16px;
                font-size: 0.9rem;
            }

            .control-btn {
                padding: 10px 16px;
                font-size: 0.9rem;
            }

            .array-element {
                width: 40px;
            }

            .linked-list-node {
                min-width: 100px;
                padding: 0.6rem;
            }

            .queue-element {
                min-width: 60px;
                min-height: 60px;
            }
        }
    </style>
</head>

<body>
    <!-- Animated Background -->
    <div class="animated-bg">
        <div class="bg-circle"></div>
        <div class="bg-circle"></div>
        <div class="bg-circle"></div>
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <a href="#" class="logo">
            <div class="logo-icon">
                <i class="fas fa-brain"></i>
            </div>
            <div class="logo-text">
                <h1>Algorithm Visualizer Pro</h1>
                <span>Interactive Learning Platform</span>
            </div>
        </a>
        <div class="user-info">
            <div class="user-avatar">
                <img src="avatar.png" alt="">
            </div>
            <div class="user-details">
                <div class="user-name">
                    <?php echo htmlspecialchars($user_name); ?>
                </div>
                <div class="user-email">
                    <?php echo htmlspecialchars($user_email); ?>
                </div>
            </div>
            <button class="logout-btn" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i> Logout
            </button>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="container">
        <!-- Hero Section -->
        <div class="hero-section">
            <h1 class="hero-title">Visualize Algorithms in Action</h1>
            <p class="hero-subtitle">Master complex algorithms through beautiful, interactive visualizations with
                real-time animations and detailed C++ implementations</p>
            <div class="hero-stats">
                <div class="stat-item">
                    <div class="stat-value">7</div>
                    <div class="stat-label">Algorithms</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">4</div>
                    <div class="stat-label">Categories</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">100%</div>
                    <div class="stat-label">Interactive</div>
                </div>
            </div>
        </div>

        <!-- Categories -->
        <div class="categories">
            <button class="category-btn active" onclick="filterAlgorithms('all')">
                <i class="fas fa-layer-group"></i> All Algorithms
            </button>
            <button class="category-btn" onclick="filterAlgorithms('sorting')">
                <i class="fas fa-sort-amount-down"></i> Sorting
            </button>
            <button class="category-btn" onclick="filterAlgorithms('searching')">
                <i class="fas fa-search"></i> Searching
            </button>
            <button class="category-btn" onclick="filterAlgorithms('linkedlist')">
                <i class="fas fa-link"></i> Linked List
            </button>
            <button class="category-btn" onclick="filterAlgorithms('queue')">
                <i class="fas fa-stream"></i> Queue
            </button>
            <button class="category-btn" onclick="filterAlgorithms('tree')">
                <i class="fas fa-project-diagram"></i> Tree Structures
            </button>
        </div>

        <!-- Algorithms Grid -->
        <div class="algorithms-grid" id="algorithmsGrid">
            <!-- Bubble Sort -->
            <div class="algorithm-card" data-category="sorting" onclick="showDocumentation('bubble')">
                <div class="card-header">
                    <div class="card-icon bubble-sort">
                        <i class="fas fa-bubbles"></i>
                    </div>
                    <div class="card-title">
                        <h3>Bubble Sort</h3>
                        <span class="card-badge">Sorting</span>
                    </div>
                </div>
                <p class="card-description">Simple comparison-based sorting algorithm that repeatedly steps through the
                    list, compares adjacent elements and swaps them if they are in the wrong order.</p>
                <div class="card-meta">
                    <div class="complexity">
                        <span class="complexity-badge time-complexity">
                            <i class="fas fa-clock"></i> O(n)
                        </span>
                        <span class="complexity-badge space-complexity">
                            <i class="fas fa-memory"></i> O(1)
                        </span>
                    </div>
                    <button class="explore-btn">
                        Explore <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Insertion Sort -->
            <div class="algorithm-card" data-category="sorting" onclick="showDocumentation('insertion')">
                <div class="card-header">
                    <div class="card-icon insertion-sort">
                        <i class="fas fa-sort-numeric-down"></i>
                    </div>
                    <div class="card-title">
                        <h3>Insertion Sort</h3>
                        <span class="card-badge">Sorting</span>
                    </div>
                </div>
                <p class="card-description">Builds the final sorted array one item at a time by inserting elements in
                    their correct position within the sorted portion of the array.</p>
                <div class="card-meta">
                    <div class="complexity">
                        <span class="complexity-badge time-complexity">
                            <i class="fas fa-clock"></i> O(n)
                        </span>
                        <span class="complexity-badge space-complexity">
                            <i class="fas fa-memory"></i> O(1)
                        </span>
                    </div>
                    <button class="explore-btn">
                        Explore <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Selection Sort -->
            <div class="algorithm-card" data-category="sorting" onclick="showDocumentation('selection')">
                <div class="card-header">
                    <div class="card-icon selection-sort">
                        <i class="fas fa-sort"></i>
                    </div>
                    <div class="card-title">
                        <h3>Selection Sort</h3>
                        <span class="card-badge">Sorting</span>
                    </div>
                </div>
                <p class="card-description">Divides the input into sorted and unsorted regions, repeatedly selects the
                    smallest element from unsorted region and moves it to sorted region.</p>
                <div class="card-meta">
                    <div class="complexity">
                        <span class="complexity-badge time-complexity">
                            <i class="fas fa-clock"></i> O(n)
                        </span>
                        <span class="complexity-badge space-complexity">
                            <i class="fas fa-memory"></i> O(1)
                        </span>
                    </div>
                    <button class="explore-btn">
                        Explore <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Linear Search -->
            <div class="algorithm-card" data-category="searching" onclick="showDocumentation('linear')">
                <div class="card-header">
                    <div class="card-icon linear-search">
                        <i class="fas fa-search"></i>
                    </div>
                    <div class="card-title">
                        <h3>Linear Search</h3>
                        <span class="card-badge">Searching</span>
                    </div>
                </div>
                <p class="card-description">Sequentially checks each element of the list until a match is found or the
                    entire list has been searched. Simple but inefficient for large lists.</p>
                <div class="card-meta">
                    <div class="complexity">
                        <span class="complexity-badge time-complexity">
                            <i class="fas fa-clock"></i> O(n)
                        </span>
                        <span class="complexity-badge space-complexity">
                            <i class="fas fa-memory"></i> O(1)
                        </span>
                    </div>
                    <button class="explore-btn">
                        Explore <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Binary Search -->
            <div class="algorithm-card" data-category="searching" onclick="showDocumentation('binary')">
                <div class="card-header">
                    <div class="card-icon binary-search">
                        <i class="fas fa-search-plus"></i>
                    </div>
                    <div class="card-title">
                        <h3>Binary Search</h3>
                        <span class="card-badge">Searching</span>
                    </div>
                </div>
                <p class="card-description">Efficient search algorithm that finds the position of a target value within
                    a sorted array by repeatedly dividing the search interval in half.</p>
                <div class="card-meta">
                    <div class="complexity">
                        <span class="complexity-badge time-complexity">
                            <i class="fas fa-clock"></i> O(log n)
                        </span>
                        <span class="complexity-badge space-complexity">
                            <i class="fas fa-memory"></i> O(1)
                        </span>
                    </div>
                    <button class="explore-btn">
                        Explore <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Linked List -->
            <div class="algorithm-card" data-category="linkedlist" onclick="showDocumentation('linkedlist')">
                <div class="card-header">
                    <div class="card-icon linked-list">
                        <i class="fas fa-link"></i>
                    </div>
                    <div class="card-title">
                        <h3>Linked List</h3>
                        <span class="card-badge">Data Structure</span>
                    </div>
                </div>
                <p class="card-description">Linear data structure where elements are linked using pointers. Supports
                    efficient insertion and deletion at any position.</p>
                <div class="card-meta">
                    <div class="complexity">
                        <span class="complexity-badge time-complexity">
                            <i class="fas fa-clock"></i> O(1) Insert
                        </span>
                        <span class="complexity-badge space-complexity">
                            <i class="fas fa-memory"></i> O(n)
                        </span>
                    </div>
                    <button class="explore-btn">
                        Explore <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
            <div class="algorithm-card" data-category="tree" onclick="window.open('bst.html', '_self')">
                <div class="card-header">
                    <div class="card-icon" style="background: var(--gradient-success);">
                        <i class="fas fa-project-diagram"></i>
                    </div>
                    <div class="card-title">
                        <h3>Binary Search Tree</h3>
                        <span class="card-badge">Data Structure</span>
                    </div>
                </div>
                <p class="card-description">Hierarchical data structure where each node has at most two children,
                    maintaining the binary search property for efficient searching, insertion, and deletion.</p>
                <div class="card-meta">
                    <div class="complexity">
                        <span class="complexity-badge time-complexity">
                            <i class="fas fa-clock"></i> O(log n)
                        </span>
                        <span class="complexity-badge space-complexity">
                            <i class="fas fa-memory"></i> O(n)
                        </span>
                    </div>
                    <button class="explore-btn" onclick="window.open('bst.html', '_self')">
                        Explore <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Queue -->
            <div class="algorithm-card" data-category="queue" onclick="showDocumentation('queue')">
                <div class="card-header">
                    <div class="card-icon queue">
                        <i class="fas fa-stream"></i>
                    </div>
                    <div class="card-title">
                        <h3>Queue</h3>
                        <span class="card-badge">Data Structure</span>
                    </div>
                </div>
                <p class="card-description">FIFO (First In First Out) data structure. Elements are added at rear and
                    removed from front. Supports enqueue, dequeue operations.</p>
                <div class="card-meta">
                    <div class="complexity">
                        <span class="complexity-badge time-complexity">
                            <i class="fas fa-clock"></i> O(1) Enqueue
                        </span>
                        <span class="complexity-badge space-complexity">
                            <i class="fas fa-memory"></i> O(n)
                        </span>
                    </div>
                    <button class="explore-btn">
                        Explore <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Binary Search Tree -->
        <!-- Binary Search Tree -->


        <!-- Documentation Section -->
        <div id="documentation" class="documentation-section">
            <div class="doc-header">
                <div class="doc-title" id="docTitle">
                    <div class="doc-title-icon" id="docIcon">
                        <i class="fas fa-book"></i>
                    </div>
                    <div class="doc-title-text">
                        <h2 id="docTitleText">Documentation</h2>
                        <p id="docSubtitle">Select an algorithm to view detailed documentation</p>
                    </div>
                </div>
                <button class="close-doc" onclick="hideDocumentation()">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div class="doc-nav" id="docNav"></div>

            <div class="doc-content">
                <div id="docSections"></div>

                <!-- Visualization Section -->
                <div class="visualization-section" id="visualizationSection">
                    <div class="vis-header">
                        <h3><i class="fas fa-play-circle"></i> Interactive Visualization</h3>
                        <p>Visualize the algorithm in action with real-time animations. Adjust parameters and watch how
                            the algorithm processes data step by step.</p>
                    </div>

                    <div class="functionality-nav" id="functionalityNav"></div>

                    <div class="controls-section">
                        <div class="controls-grid" id="controlsGrid"></div>
                    </div>

                    <div class="visualization-area" id="visualizationArea"></div>

                    <div class="info-panel">
                        <div class="info-grid" id="infoGrid"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <a href="#" class="footer-logo">
                    <div class="footer-logo-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <div class="footer-logo-text">
                        <h3>Algorithm Visualizer Pro</h3>
                    </div>
                </a>
                <p class="footer-description">
                    Interactive platform for learning and visualizing algorithms with beautiful animations and detailed
                    implementations.
                </p>
                <div class="social-links">
                    <a href="#" class="social-icon">
                        <i class="fab fa-github"></i>
                    </a>
                    <a href="#" class="social-icon">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="#" class="social-icon">
                        <i class="fab fa-linkedin"></i>
                    </a>
                    <a href="#" class="social-icon">
                        <i class="fab fa-youtube"></i>
                    </a>
                </div>
            </div>

            <div class="footer-section">
                <h4 class="footer-title">Categories</h4>
                <ul class="footer-links">
                    <li><a href="#"><i class="fas fa-sort-amount-down"></i> Sorting Algorithms</a></li>
                    <li><a href="#"><i class="fas fa-search"></i> Searching Algorithms</a></li>
                    <li><a href="#"><i class="fas fa-link"></i> Linked List</a></li>
                    <li><a href="#"><i class="fas fa-stream"></i> Queue</a></li>
                    <li><a href="#"><i class="fas fa-project-diagram"></i> Graph Algorithms</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h4 class="footer-title">Resources</h4>
                <ul class="footer-links">
                    <li><a href="#"><i class="fas fa-book"></i> Documentation</a></li>
                    <li><a href="#"><i class="fas fa-code"></i> Code Examples</a></li>
                    <li><a href="#"><i class="fas fa-video"></i> Tutorials</a></li>
                    <li><a href="#"><i class="fas fa-file-alt"></i> Blog</a></li>
                    <li><a href="#"><i class="fas fa-question-circle"></i> Help Center</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h4 class="footer-title">Contact</h4>
                <ul class="footer-links">
                    <li><a href="#"><i class="fas fa-envelope"></i> support@algorithmviz.com</a></li>
                    <li><a href="#"><i class="fas fa-phone"></i> +1 (555) 123-4567</a></li>
                    <li><a href="#"><i class="fas fa-map-marker-alt"></i> San Francisco, CA</a></li>
                    <li><a href="#"><i class="fas fa-comment"></i> Live Chat</a></li>
                    <li><a href="#"><i class="fas fa-bug"></i> Report Issue</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p class="copyright"> 2024 Algorithm Visualizer Pro. All rights reserved.</p>
            <div class="footer-bottom-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
                <a href="#">Cookie Policy</a>
                <a href="#">Sitemap</a>
            </div>
        </div>
    </footer>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Scroll to Top Button -->
    <button class="scroll-top" onclick="scrollToTop()">
        <i class="fas fa-chevron-up"></i>
    </button>

    <script>
        // Global State
        let currentAlgorithm = null;
        let currentFunctionality = 'visualize';
        let currentArray = [64, 34, 25, 12, 22, 11, 90, 45];
        let linkedList = [23, 45, 67, 12, 89, 34];
        let queue = [10, 20, 30, 40, 50];
        let nodeAddresses = new Map();
        let visualizationRunning = false;
        let speed = 500;
        let targetValue = 45;
        let metrics = {
            comparisons: 0,
            swaps: 0,
            operations: 0,
            time: 0,
            foundIndex: -1,
            traversalSteps: 0,
            enqueueCount: 0,
            dequeueCount: 0
        };

        // Complete Documentation Data with Enhanced C++ Code
        const documentation = {
            bubble: {
                title: "Bubble Sort Algorithm",
                subtitle: "Simple comparison-based sorting algorithm",
                icon: "fas fa-bubbles",
                color: "#6366f1",
                category: "sorting",
                description: "Bubble Sort is a simple sorting algorithm that repeatedly steps through the list, compares adjacent elements and swaps them if they are in the wrong order. The pass through the list is repeated until the list is sorted.",
                sections: {
                    overview: {
                        title: "Overview",
                        icon: "fas fa-info-circle",
                        content: `
                            <div class="algorithm-steps">
                                <div class="step" style="animation-delay: 0.1s">
                                    <div class="step-number">
                                        <div class="step-circle">1</div>
                                        <div class="step-title">How It Works</div>
                                    </div>
                                    <div class="step-content">
                                        <p>Bubble sort works by repeatedly swapping adjacent elements if they are in the wrong order. Each pass through the list places the next largest element in its correct position.</p>
                                        <ul>
                                            <li>Start from the beginning of the array</li>
                                            <li>Compare adjacent elements</li>
                                            <li>Swap if they are in wrong order</li>
                                            <li>Repeat until no swaps are needed</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="step" style="animation-delay: 0.2s">
                                    <div class="step-number">
                                        <div class="step-circle">2</div>
                                        <div class="step-title">Key Characteristics</div>
                                    </div>
                                    <div class="step-content">
                                        <ul>
                                            <li><strong>Stable:</strong> Maintains relative order of equal elements</li>
                                            <li><strong>In-place:</strong> Requires only O(1) additional memory</li>
                                            <li><strong>Adaptive:</strong> Efficient for nearly sorted arrays</li>
                                            <li><strong>Simple:</strong> Easy to understand and implement</li>
                                            <li><strong>Inefficient:</strong> O(n) time complexity for large datasets</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="step" style="animation-delay: 0.3s">
                                    <div class="step-number">
                                        <div class="step-circle">3</div>
                                        <div class="step-title">Algorithm Steps</div>
                                    </div>
                                    <div class="step-content">
                                        <ol>
                                            <li>Set swapped flag to false</li>
                                            <li>For each pair of adjacent elements</li>
                                            <li>If the first element > second element, swap them</li>
                                            <li>Set swapped flag to true</li>
                                            <li>Repeat until no swaps occur</li>
                                        </ol>
                                    </div>
                                </div>
                            </div>
                        `
                    },
                    cppCode: {
                        title: "C++ Implementation",
                        icon: "fas fa-code",
                        content: `
                            <div class="code-container">
                                <div class="code-header">
                                    <div class="code-title">
                                        <i class="fab fa-cuttlefish"></i>
                                        <span>Complete Bubble Sort Implementation</span>
                                    </div>
                                    <div class="code-actions">
                                        <button class="code-btn" onclick="copyCode('bubble-cpp')">
                                            <i class="fas fa-copy"></i> Copy
                                        </button>
                                        <button class="code-btn" onclick="runCode('bubble')">
                                            <i class="fas fa-play"></i> Run
                                        </button>
                                    </div>
                                </div>
                                <div class="code-body">
                                    <pre class="code-editor">
<code class="code-content">#include &lt;iostream&gt;

<span class="code-keyword">using</span> <span class="code-keyword">namespace</span> std;

<span class="code-type">int</span> <span class="code-function">main</span>() {
    <span class="code-type">int</span> arr[] = {<span class="code-number">5</span>, <span class="code-number">1</span>, <span class="code-number">4</span>, <span class="code-number">2</span>, <span class="code-number">8</span>};
    <span class="code-type">int</span> n = <span class="code-number">5</span>;

    <span class="code-comment">// Bubble Sort logic</span>
    <span class="code-keyword">for</span> (<span class="code-type">int</span> i = <span class="code-number">0</span>; i &lt; n - <span class="code-number">1</span>; i++) {
        <span class="code-keyword">for</span> (<span class="code-type">int</span> j = <span class="code-number">0</span>; j &lt; n - i - <span class="code-number">1</span>; j++) {
            <span class="code-keyword">if</span> (arr[j] &gt; arr[j + <span class="code-number">1</span>]) {
                <span class="code-type">int</span> temp = arr[j];
                arr[j] = arr[j + <span class="code-number">1</span>];
                arr[j + <span class="code-number">1</span>] = temp;
            }
        }
    }

    cout &lt;&lt; <span class="code-string">"Sorted Array: "</span>;
    <span class="code-keyword">for</span> (<span class="code-type">int</span> i = <span class="code-number">0</span>; i &lt; n; i++) {
        cout &lt;&lt; arr[i] &lt;&lt; <span class="code-string">" "</span>;
    }

    <span class="code-keyword">return</span> <span class="code-number">0</span>;
}
</code>
</pre>

                                </div>
                            </div>
                        `
                    },
                    complexity: {
                        title: "Complexity Analysis",
                        icon: "fas fa-chart-line",
                        content: `
                            <div class="complexity-chart">
                                <h3>Time & Space Complexity</h3>
                                <div class="chart-grid">
                                    <div class="chart-item">
                                        <div class="chart-label">Best Case Time</div>
                                        <div class="chart-value best">O(n)</div>
                                        <div class="chart-description">When array is already sorted (adaptive version)</div>
                                    </div>
                                    <div class="chart-item">
                                        <div class="chart-label">Average Case Time</div>
                                        <div class="chart-value average">O(n)</div>
                                        <div class="chart-description">For randomly ordered arrays</div>
                                    </div>
                                    <div class="chart-item">
                                        <div class="chart-label">Worst Case Time</div>
                                        <div class="chart-value worst">O(n)</div>
                                        <div class="chart-description">When array is reverse sorted</div>
                                    </div>
                                    <div class="chart-item">
                                        <div class="chart-label">Space Complexity</div>
                                        <div class="chart-value space">O(1)</div>
                                        <div class="chart-description">In-place algorithm, uses constant extra space</div>
                                    </div>
                                </div>
                                
                                <div class="step" style="animation-delay: 0.4s; margin-top: 2rem;">
                                    <div class="step-number">
                                        <div class="step-circle">4</div>
                                        <div class="step-title">Performance Analysis</div>
                                    </div>
                                    <div class="step-content">
                                        <p><strong>Number of Comparisons:</strong> (n-1) + (n-2) + ... + 1 = n(n-1)/2  n/2</p>
                                        <p><strong>Number of Swaps:</strong> Up to n/2 in worst case, 0 in best case</p>
                                        <p><strong>Adaptive Nature:</strong> The optimized version detects already sorted arrays</p>
                                        <p><strong>Stability:</strong> Bubble sort is stable - equal elements maintain their relative order</p>
                                    </div>
                                </div>
                            </div>
                        `
                    },
                    applications: {
                        title: "Applications & Use Cases",
                        icon: "fas fa-rocket",
                        content: `
                            <div class="algorithm-steps">
                                <div class="step" style="animation-delay: 0.1s">
                                    <div class="step-number">
                                        <div class="step-circle">1</div>
                                        <div class="step-title">Educational Use</div>
                                    </div>
                                    <div class="step-content">
                                        <p>Bubble sort is primarily used for educational purposes to teach:</p>
                                        <ul>
                                            <li>Basic sorting concepts</li>
                                            <li>Algorithm complexity</li>
                                            <li>Swapping techniques</li>
                                            <li>Algorithm optimization</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="step" style="animation-delay: 0.2s">
                                    <div class="step-number">
                                        <div class="step-circle">2</div>
                                        <div class="step-title">Practical Applications</div>
                                    </div>
                                    <div class="step-content">
                                        <ul>
                                            <li><strong>Small Datasets:</strong> When n  10-20 elements</li>
                                            <li><strong>Nearly Sorted Data:</strong> When only a few elements are out of place</li>
                                            <li><strong>Memory Constraints:</strong> When O(1) space complexity is critical</li>
                                            <li><strong>Simple Implementation:</strong> When code simplicity is prioritized over performance</li>
                                            <li><strong>Debugging:</strong> As a reference implementation</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="step" style="animation-delay: 0.3s">
                                    <div class="step-number">
                                        <div class="step-circle">3</div>
                                        <div class="step-title">When Not to Use</div>
                                    </div>
                                    <div class="step-content">
                                        <ul>
                                            <li><strong>Large Datasets:</strong> n > 100 elements</li>
                                            <li><strong>Performance-Critical Applications</strong></li>
                                            <li><strong>Real-time Systems</strong></li>
                                            <li><strong>Database Operations</strong></li>
                                            <li><strong>Scientific Computing</strong></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        `
                    }
                },
                functionalities: ['visualize'],
                defaultArray: [64, 34, 25, 12, 22, 11, 90, 45]
            },
            insertion: {
                title: "Insertion Sort Algorithm",
                subtitle: "Efficient for small or nearly sorted arrays",
                icon: "fas fa-sort-numeric-down",
                color: "#10b981",
                category: "sorting",
                description: "Insertion sort builds the final sorted array one item at a time. It is much less efficient on large lists than more advanced algorithms such as quicksort, heapsort, or merge sort.",
                sections: {
                    overview: {
                        title: "Overview",
                        icon: "fas fa-info-circle",
                        content: `<div class="algorithm-steps">...</div>`
                    },
                    cppCode: {
                        title: "C++ Implementation",
                        icon: "fas fa-code",
                        content: `
                            <div class="code-container">
                                <div class="code-header">
                                    <div class="code-title">
                                        <i class="fab fa-cuttlefish"></i>
                                        <span>Complete Insertion Sort Implementation</span>
                                    </div>
                                    <div class="code-actions">
                                        <button class="code-btn" onclick="copyCode('insertion-cpp')">
                                            <i class="fas fa-copy"></i> Copy
                                        </button>
                                        <button class="code-btn" onclick="runCode('insertion')">
                                            <i class="fas fa-play"></i> Run
                                        </button>
                                    </div>
                                </div>
                                <div class="code-body">
                                    <pre id="insertion-cpp" class="code-editor"><code class="code-content">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;

using namespace std;

<span class="code-comment">// Standard Insertion Sort</span>
<span class="code-type">void</span> <span class="code-function">insertionSort</span>(vector<<span class="code-type">int</span>>& arr) {
    <span class="code-type">int</span> n = arr.size();
    
    <span class="code-keyword">for</span> (<span class="code-type">int</span> i = <span class="code-number">1</span>; i < n; i++) {
        <span class="code-type">int</span> key = arr[i];
        <span class="code-type">int</span> j = i - <span class="code-number">1</span>;
        
        <span class="code-comment">// Move elements greater than key to one position ahead</span>
        <span class="code-keyword">while</span> (j >= <span class="code-number">0</span> && arr[j] > key) {
            arr[j + <span class="code-number">1</span>] = arr[j];
            j--;
        }
        arr[j + <span class="code-number">1</span>] = key;
    }
}

<span class="code-comment">// Binary Insertion Sort (optimized version)</span>
<span class="code-type">void</span> <span class="code-function">binaryInsertionSort</span>(vector<<span class="code-type">int</span>>& arr) {
    <span class="code-type">int</span> n = arr.size();
    
    <span class="code-keyword">for</span> (<span class="code-type">int</span> i = <span class="code-number">1</span>; i < n; i++) {
        <span class="code-type">int</span> key = arr[i];
        <span class="code-type">int</span> left = <span class="code-number">0</span>;
        <span class="code-type">int</span> right = i;
        
        <span class="code-comment">// Binary search to find insertion position</span>
        <span class="code-keyword">while</span> (left < right) {
            <span class="code-type">int</span> mid = left + (right - left) / <span class="code-number">2</span>;
            <span class="code-keyword">if</span> (key < arr[mid]) {
                right = mid;
            } <span class="code-keyword">else</span> {
                left = mid + <span class="code-number">1</span>;
            }
        }
        
        <span class="code-comment">// Shift elements to make space</span>
        <span class="code-keyword">for</span> (<span class="code-type">int</span> j = i; j > left; j--) {
            arr[j] = arr[j - <span class="code-number">1</span>];
        }
        
        arr[left] = key;
    }
}

<span class="code-type">int</span> <span class="code-function">main</span>() {
    vector<<span class="code-type">int</span>> arr = {<span class="code-number">12</span>, <span class="code-number">11</span>, <span class="code-number">13</span>, <span class="code-number">5</span>, <span class="code-number">6</span>};
    
    cout << <span class="code-string">"Original array: "</span>;
    <span class="code-keyword">for</span> (<span class="code-type">int</span> num : arr) cout << num << <span class="code-string">" "</span>;
    cout << endl;
    
    <span class="code-function">insertionSort</span>(arr);
    
    cout << <span class="code-string">"Sorted array: "</span>;
    <span class="code-keyword">for</span> (<span class="code-type">int</span> num : arr) cout << num << <span class="code-string">" "</span>;
    cout << endl;
    
    <span class="code-keyword">return</span> <span class="code-number">0</span>;
}</code></pre>
                                </div>
                            </div>
                        `
                    },
                    complexity: {
                        title: "Complexity Analysis",
                        icon: "fas fa-chart-line",
                        content: `<div class="complexity-chart">...</div>`
                    },
                    applications: {
                        title: "Applications & Use Cases",
                        icon: "fas fa-rocket",
                        content: `<div class="algorithm-steps">...</div>`
                    }
                },
                functionalities: ['visualize'],
                defaultArray: [12, 11, 13, 5, 6, 7, 8, 1]
            },
            selection: {
                title: "Selection Sort Algorithm",
                subtitle: "Simple and intuitive sorting algorithm",
                icon: "fas fa-sort",
                color: "#f59e0b",
                category: "sorting",
                description: "The algorithm divides the input list into two parts: a sorted sublist and an unsorted sublist. It repeatedly selects the smallest element from the unsorted sublist and moves it to the sorted sublist.",
                sections: {
                    overview: { title: "Overview", icon: "fas fa-info-circle", content: `...` },
                    cppCode: {
                        title: "C++ Implementation",
                        icon: "fas fa-code",
                        content: `
                            <div class="code-container">
                                <div class="code-header">
                                    <div class="code-title">
                                        <i class="fab fa-cuttlefish"></i>
                                        <span>Complete Selection Sort Implementation</span>
                                    </div>
                                    <div class="code-actions">
                                        <button class="code-btn" onclick="copyCode('selection-cpp')">
                                            <i class="fas fa-copy"></i> Copy
                                        </button>
                                        <button class="code-btn" onclick="runCode('selection')">
                                            <i class="fas fa-play"></i> Run
                                        </button>
                                    </div>
                                </div>
                                <div class="code-body">
                                    <pre id="selection-cpp" class="code-editor"><code class="code-content">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;

using namespace std;

<span class="code-comment">// Standard Selection Sort</span>
<span class="code-type">void</span> <span class="code-function">selectionSort</span>(vector<<span class="code-type">int</span>>& arr) {
    <span class="code-type">int</span> n = arr.size();
    
    <span class="code-keyword">for</span> (<span class="code-type">int</span> i = <span class="code-number">0</span>; i < n - <span class="code-number">1</span>; i++) {
        <span class="code-comment">// Find minimum element in unsorted array</span>
        <span class="code-type">int</span> min_idx = i;
        <span class="code-keyword">for</span> (<span class="code-type">int</span> j = i + <span class="code-number">1</span>; j < n; j++) {
            <span class="code-keyword">if</span> (arr[j] < arr[min_idx]) {
                min_idx = j;
            }
        }
        
        <span class="code-comment">// Swap found minimum with first element</span>
        <span class="code-keyword">if</span> (min_idx != i) {
            <span class="code-function">swap</span>(arr[i], arr[min_idx]);
        }
    }
}

<span class="code-comment">// Stable Selection Sort (maintains relative order)</span>
<span class="code-type">void</span> <span class="code-function">stableSelectionSort</span>(vector<<span class="code-type">int</span>>& arr) {
    <span class="code-type">int</span> n = arr.size();
    
    <span class="code-keyword">for</span> (<span class="code-type">int</span> i = <span class="code-number">0</span>; i < n - <span class="code-number">1</span>; i++) {
        <span class="code-type">int</span> min_idx = i;
        
        <span class="code-comment">// Find minimum element</span>
        <span class="code-keyword">for</span> (<span class="code-type">int</span> j = i + <span class="code-number">1</span>; j < n; j++) {
            <span class="code-keyword">if</span> (arr[j] < arr[min_idx]) {
                min_idx = j;
            }
        }
        
        <span class="code-comment">// Move minimum element to current position</span>
        <span class="code-type">int</span> key = arr[min_idx];
        <span class="code-keyword">while</span> (min_idx > i) {
            arr[min_idx] = arr[min_idx - <span class="code-number">1</span>];
            min_idx--;
        }
        arr[i] = key;
    }
}

<span class="code-comment">// Template version for any comparable type</span>
<span class="code-keyword">template</span> &lt;<span class="code-keyword">typename</span> T&gt;
<span class="code-type">void</span> <span class="code-function">selectionSortGeneric</span>(vector&lt;T&gt;& arr) {
    <span class="code-type">int</span> n = arr.size();
    
    <span class="code-keyword">for</span> (<span class="code-type">int</span> i = <span class="code-number">0</span>; i < n - <span class="code-number">1</span>; i++) {
        <span class="code-type">int</span> min_idx = i;
        
        <span class="code-keyword">for</span> (<span class="code-type">int</span> j = i + <span class="code-number">1</span>; j < n; j++) {
            <span class="code-keyword">if</span> (arr[j] < arr[min_idx]) {
                min_idx = j;
            }
        }
        
        <span class="code-keyword">if</span> (min_idx != i) {
            <span class="code-function">swap</span>(arr[i], arr[min_idx]);
        }
    }
}

<span class="code-type">int</span> <span class="code-function">main</span>() {
    vector<<span class="code-type">int</span>> arr = {<span class="code-number">64</span>, <span class="code-number">25</span>, <span class="code-number">12</span>, <span class="code-number">22</span>, <span class="code-number">11</span>};
    
    cout << <span class="code-string">"Testing Selection Sort\\n"</span>;
    cout << <span class="code-string">"Original: "</span>;
    <span class="code-keyword">for</span> (<span class="code-type">int</span> num : arr) cout << num << <span class="code-string">" "</span>;
    cout << endl;
    
    <span class="code-function">selectionSort</span>(arr);
    
    cout << <span class="code-string">"Sorted:   "</span>;
    <span class="code-keyword">for</span> (<span class="code-type">int</span> num : arr) cout << num << <span class="code-string">" "</span>;
    cout << endl;
    
    <span class="code-keyword">return</span> <span class="code-number">0</span>;
}</code></pre>
                                </div>
                            </div>
                        `
                    },
                    complexity: { title: "Complexity Analysis", icon: "fas fa-chart-line", content: `...` },
                    applications: { title: "Applications & Use Cases", icon: "fas fa-rocket", content: `...` }
                },
                functionalities: ['visualize'],
                defaultArray: [64, 25, 12, 22, 11, 90, 34]
            },
            linear: {
                title: "Linear Search Algorithm",
                subtitle: "Simple sequential search algorithm",
                icon: "fas fa-search",
                color: "#3b82f6",
                category: "searching",
                description: "Linear search sequentially checks each element of the list until a match is found or the whole list has been searched. It's simple but inefficient for large lists.",
                sections: {
                    overview: { title: "Overview", icon: "fas fa-info-circle", content: `...` },
                    cppCode: {
                        title: "C++ Implementation",
                        icon: "fas fa-code",
                        content: `
                            <div class="code-container">
                                <div class="code-header">
                                    <div class="code-title">
                                        <i class="fab fa-cuttlefish"></i>
                                        <span>Complete Linear Search Implementation</span>
                                    </div>
                                    <div class="code-actions">
                                        <button class="code-btn" onclick="copyCode('linear-cpp')">
                                            <i class="fas fa-copy"></i> Copy
                                        </button>
                                        <button class="code-btn" onclick="runCode('linear')">
                                            <i class="fas fa-play"></i> Run
                                        </button>
                                    </div>
                                </div>
                                <div class="code-body">
                                    <pre id="linear-cpp" class="code-editor"><code class="code-content">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;

using namespace std;

<span class="code-comment">// Basic Linear Search - returns index if found, -1 otherwise</span>
<span class="code-type">int</span> <span class="code-function">linearSearch</span>(<span class="code-keyword">const</span> vector<<span class="code-type">int</span>>& arr, <span class="code-type">int</span> target) {
    <span class="code-keyword">for</span> (<span class="code-type">int</span> i = <span class="code-number">0</span>; i < arr.size(); i++) {
        <span class="code-keyword">if</span> (arr[i] == target) {
            <span class="code-keyword">return</span> i; <span class="code-comment">// Element found at index i</span>
        }
    }
    <span class="code-keyword">return</span> -<span class="code-number">1</span>; <span class="code-comment">// Element not found</span>
}

<span class="code-comment">// Linear Search with early exit for sorted arrays</span>
<span class="code-type">int</span> <span class="code-function">linearSearchSorted</span>(<span class="code-keyword">const</span> vector<<span class="code-type">int</span>>& arr, <span class="code-type">int</span> target) {
    <span class="code-keyword">for</span> (<span class="code-type">int</span> i = <span class="code-number">0</span>; i < arr.size(); i++) {
        <span class="code-keyword">if</span> (arr[i] == target) {
            <span class="code-keyword">return</span> i;
        }
        <span class="code-keyword">if</span> (arr[i] > target) { <span class="code-comment">// Early exit for sorted arrays</span>
            <span class="code-keyword">break</span>;
        }
    }
    <span class="code-keyword">return</span> -<span class="code-number">1</span>;
}

<span class="code-comment">// Template version for any type with equality operator</span>
<span class="code-keyword">template</span> &lt;<span class="code-keyword">typename</span> T&gt;
<span class="code-type">int</span> <span class="code-function">linearSearchGeneric</span>(<span class="code-keyword">const</span> vector&lt;T&gt;& arr, <span class="code-keyword">const</span> T& target) {
    <span class="code-keyword">for</span> (<span class="code-type">int</span> i = <span class="code-number">0</span>; i < arr.size(); i++) {
        <span class="code-keyword">if</span> (arr[i] == target) {
            <span class="code-keyword">return</span> i;
        }
    }
    <span class="code-keyword">return</span> -<span class="code-number">1</span>;
}

<span class="code-comment">// Linear Search returning all occurrences</span>
vector<<span class="code-type">int</span>> <span class="code-function">linearSearchAll</span>(<span class="code-keyword">const</span> vector<<span class="code-type">int</span>>& arr, <span class="code-type">int</span> target) {
    vector<<span class="code-type">int</span>> indices;
    
    <span class="code-keyword">for</span> (<span class="code-type">int</span> i = <span class="code-number">0</span>; i < arr.size(); i++) {
        <span class="code-keyword">if</span> (arr[i] == target) {
            indices.push_back(i);
        }
    }
    
    <span class="code-keyword">return</span> indices;
}

<span class="code-type">int</span> <span class="code-function">main</span>() {
    vector<<span class="code-type">int</span>> arr = {<span class="code-number">10</span>, <span class="code-number">23</span>, <span class="code-number">45</span>, <span class="code-number">67</span>, <span class="code-number">89</span>, <span class="code-number">12</span>, <span class="code-number">34</span>, <span class="code-number">56</span>};
    <span class="code-type">int</span> target = <span class="code-number">45</span>;
    
    cout << <span class="code-string">"Array: "</span>;
    <span class="code-keyword">for</span> (<span class="code-type">int</span> num : arr) cout << num << <span class="code-string">" "</span>;
    cout << endl;
    
    <span class="code-type">int</span> result = <span class="code-function">linearSearch</span>(arr, target);
    
    <span class="code-keyword">if</span> (result != -<span class="code-number">1</span>) {
        cout << <span class="code-string">"Element "</span> << target << <span class="code-string">" found at index "</span> << result << endl;
    } <span class="code-keyword">else</span> {
        cout << <span class="code-string">"Element "</span> << target << <span class="code-string">" not found in the array"</span> << endl;
    }
    
    <span class="code-comment">// Test finding all occurrences</span>
    vector<<span class="code-type">int</span>> arr2 = {<span class="code-number">10</span>, <span class="code-number">20</span>, <span class="code-number">10</span>, <span class="code-number">30</span>, <span class="code-number">10</span>, <span class="code-number">40</span>};
    vector<<span class="code-type">int</span>> indices = <span class="code-function">linearSearchAll</span>(arr2, <span class="code-number">10</span>);
    
    cout << <span class="code-string">"\\nElement 10 found at indices: "</span>;
    <span class="code-keyword">for</span> (<span class="code-type">int</span> idx : indices) cout << idx << <span class="code-string">" "</span>;
    cout << endl;
    
    <span class="code-keyword">return</span> <span class="code-number">0</span>;
}</code></pre>
                                </div>
                            </div>
                        `
                    },
                    complexity: { title: "Complexity Analysis", icon: "fas fa-chart-line", content: `...` },
                    applications: { title: "Applications & Use Cases", icon: "fas fa-rocket", content: `...` }
                },
                functionalities: ['search'],
                defaultArray: [10, 23, 45, 67, 89, 12, 34, 56]
            },
            binary: {
                title: "Binary Search Algorithm",
                subtitle: "Efficient search in sorted arrays",
                icon: "fas fa-search-plus",
                color: "#a855f7",
                category: "searching",
                description: "Binary search is an efficient algorithm for finding an item from a sorted list of items. It works by repeatedly dividing in half the portion of the list that could contain the item.",
                sections: {
                    overview: { title: "Overview", icon: "fas fa-info-circle", content: `...` },
                    cppCode: {
                        title: "C++ Implementation",
                        icon: "fas fa-code",
                        content: `
                            <div class="code-container">
                                <div class="code-header">
                                    <div class="code-title">
                                        <i class="fab fa-cuttlefish"></i>
                                        <span>Complete Binary Search Implementation</span>
                                    </div>
                                    <div class="code-actions">
                                        <button class="code-btn" onclick="copyCode('binary-cpp')">
                                            <i class="fas fa-copy"></i> Copy
                                        </button>
                                        <button class="code-btn" onclick="runCode('binary')">
                                            <i class="fas fa-play"></i> Run
                                        </button>
                                    </div>
                                </div>
                                <div class="code-body">
                                    <pre id="binary-cpp" class="code-editor"><code class="code-content">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;

using namespace std;

<span class="code-comment">// Iterative Binary Search</span>
<span class="code-type">int</span> <span class="code-function">binarySearchIterative</span>(<span class="code-keyword">const</span> vector<<span class="code-type">int</span>>& arr, <span class="code-type">int</span> target) {
    <span class="code-type">int</span> left = <span class="code-number">0</span>;
    <span class="code-type">int</span> right = arr.size() - <span class="code-number">1</span>;
    
    <span class="code-keyword">while</span> (left <= right) {
        <span class="code-type">int</span> mid = left + (right - left) / <span class="code-number">2</span>; <span class="code-comment">// Avoid overflow</span>
        
        <span class="code-keyword">if</span> (arr[mid] == target) {
            <span class="code-keyword">return</span> mid; <span class="code-comment">// Element found</span>
        }
        
        <span class="code-keyword">if</span> (arr[mid] < target) {
            left = mid + <span class="code-number">1</span>; <span class="code-comment">// Search right half</span>
        } <span class="code-keyword">else</span> {
            right = mid - <span class="code-number">1</span>; <span class="code-comment">// Search left half</span>
        }
    }
    
    <span class="code-keyword">return</span> -<span class="code-number">1</span>; <span class="code-comment">// Element not found</span>
}

<span class="code-comment">// Recursive Binary Search</span>
<span class="code-type">int</span> <span class="code-function">binarySearchRecursive</span>(<span class="code-keyword">const</span> vector<<span class="code-type">int</span>>& arr, <span class="code-type">int</span> left, <span class="code-type">int</span> right, <span class="code-type">int</span> target) {
    <span class="code-keyword">if</span> (left <= right) {
        <span class="code-type">int</span> mid = left + (right - left) / <span class="code-number">2</span>;
        
        <span class="code-keyword">if</span> (arr[mid] == target) {
            <span class="code-keyword">return</span> mid;
        }
        
        <span class="code-keyword">if</span> (arr[mid] > target) {
            <span class="code-keyword">return</span> <span class="code-function">binarySearchRecursive</span>(arr, left, mid - <span class="code-number">1</span>, target);
        }
        
        <span class="code-keyword">return</span> <span class="code-function">binarySearchRecursive</span>(arr, mid + <span class="code-number">1</span>, right, target);
    }
    
    <span class="code-keyword">return</span> -<span class="code-number">1</span>;
}

<span class="code-comment">// Template version for any comparable type</span>
<span class="code-keyword">template</span> &lt;<span class="code-keyword">typename</span> T&gt;
<span class="code-type">int</span> <span class="code-function">binarySearchGeneric</span>(<span class="code-keyword">const</span> vector&lt;T&gt;& arr, <span class="code-keyword">const</span> T& target) {
    <span class="code-type">int</span> left = <span class="code-number">0</span>;
    <span class="code-type">int</span> right = arr.size() - <span class="code-number">1</span>;
    
    <span class="code-keyword">while</span> (left <= right) {
        <span class="code-type">int</span> mid = left + (right - left) / <span class="code-number">2</span>;
        
        <span class="code-keyword">if</span> (arr[mid] == target) {
            <span class="code-keyword">return</span> mid;
        }
        
        <span class="code-keyword">if</span> (arr[mid] < target) {
            left = mid + <span class="code-number">1</span>;
        } <span class="code-keyword">else</span> {
            right = mid - <span class="code-number">1</span>;
        }
    }
    
    <span class="code-keyword">return</span> -<span class="code-number">1</span>;
}

<span class="code-comment">// Binary Search for finding first occurrence</span>
<span class="code-type">int</span> <span class="code-function">binarySearchFirst</span>(<span class="code-keyword">const</span> vector<<span class="code-type">int</span>>& arr, <span class="code-type">int</span> target) {
    <span class="code-type">int</span> left = <span class="code-number">0</span>;
    <span class="code-type">int</span> right = arr.size() - <span class="code-number">1</span>;
    <span class="code-type">int</span> result = -<span class="code-number">1</span>;
    
    <span class="code-keyword">while</span> (left <= right) {
        <span class="code-type">int</span> mid = left + (right - left) / <span class="code-number">2</span>;
        
        <span class="code-keyword">if</span> (arr[mid] == target) {
            result = mid;
            right = mid - <span class="code-number">1</span>; <span class="code-comment">// Continue searching left half</span>
        } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (arr[mid] < target) {
            left = mid + <span class="code-number">1</span>;
        } <span class="code-keyword">else</span> {
            right = mid - <span class="code-number">1</span>;
        }
    }
    
    <span class="code-keyword">return</span> result;
}

<span class="code-type">int</span> <span class="code-function">main</span>() {
    vector<<span class="code-type">int</span>> arr = {<span class="code-number">11</span>, <span class="code-number">22</span>, <span class="code-number">33</span>, <span class="code-number">44</span>, <span class="code-number">55</span>, <span class="code-number">66</span>, <span class="code-number">77</span>, <span class="code-number">88</span>, <span class="code-number">99</span>};
    <span class="code-type">int</span> target = <span class="code-number">55</span>;
    
    cout << <span class="code-string">"Sorted Array: "</span>;
    <span class="code-keyword">for</span> (<span class="code-type">int</span> num : arr) cout << num << <span class="code-string">" "</span>;
    cout << endl;
    
    <span class="code-type">int</span> result = <span class="code-function">binarySearchIterative</span>(arr, target);
    
    <span class="code-keyword">if</span> (result != -<span class="code-number">1</span>) {
        cout << <span class="code-string">"Element "</span> << target << <span class="code-string">" found at index "</span> << result << endl;
    } <span class="code-keyword">else</span> {
        cout << <span class="code-string">"Element "</span> << target << <span class="code-string">" not found"</span> << endl;
    }
    
    <span class="code-comment">// Test recursive version</span>
    result = <span class="code-function">binarySearchRecursive</span>(arr, <span class="code-number">0</span>, arr.size() - <span class="code-number">1</span>, <span class="code-number">77</span>);
    cout << <span class="code-string">"Recursive search for 77: index "</span> << result << endl;
    
    <span class="code-keyword">return</span> <span class="code-number">0</span>;
}</code></pre>
                                </div>
                            </div>
                        `
                    },
                    complexity: { title: "Complexity Analysis", icon: "fas fa-chart-line", content: `...` },
                    applications: { title: "Applications & Use Cases", icon: "fas fa-rocket", content: `...` }
                },
                functionalities: ['search'],
                defaultArray: [11, 22, 33, 44, 55, 66, 77, 88, 99]
            },
            linkedlist: {
                title: "Linked List Data Structure",
                subtitle: "Dynamic linear data structure",
                icon: "fas fa-link",
                color: "#ec4899",
                category: "linkedlist",
                description: "A linked list is a linear data structure where each element is a separate object. Each element (node) contains data and a reference (link) to the next node in the sequence.",
                sections: {
                    overview: { title: "Overview", icon: "fas fa-info-circle", content: `...` },
                    cppCode: {
                        title: "C++ Implementation",
                        icon: "fas fa-code",
                        content: `
                            <div class="code-container">
                                <div class="code-header">
                                    <div class="code-title">
                                        <i class="fab fa-cuttlefish"></i>
                                        <span>Complete Linked List Implementation</span>
                                    </div>
                                    <div class="code-actions">
                                        <button class="code-btn" onclick="copyCode('linkedlist-cpp')">
                                            <i class="fas fa-copy"></i> Copy
                                        </button>
                                        <button class="code-btn" onclick="runCode('linkedlist')">
                                            <i class="fas fa-play"></i> Run
                                        </button>
                                    </div>
                                </div>
                                <div class="code-body">
                                    <pre id="linkedlist-cpp" class="code-editor"><code class="code-content">#include &lt;iostream&gt;
#include &lt;memory&gt;

using namespace std;

<span class="code-comment">// Node structure for Singly Linked List</span>
<span class="code-keyword">template</span> &lt;<span class="code-keyword">typename</span> T&gt;
<span class="code-keyword">struct</span> <span class="code-type">Node</span> {
    T data;
    unique_ptr&lt;Node&lt;T&gt;&gt; next;
    
    <span class="code-comment">// Constructor</span>
    <span class="code-function">Node</span>(<span class="code-keyword">const</span> T& value) : <span class="code-function">data</span>(value), <span class="code-function">next</span>(<span class="code-keyword">nullptr</span>) {}
};

<span class="code-comment">// Complete Linked List Class</span>
<span class="code-keyword">template</span> &lt;<span class="code-keyword">typename</span> T&gt;
<span class="code-keyword">class</span> <span class="code-type">LinkedList</span> {
<span class="code-keyword">private</span>:
    unique_ptr&lt;Node&lt;T&gt;&gt; head;
    <span class="code-type">size_t</span> size;
    
<span class="code-keyword">public</span>:
    <span class="code-comment">// Constructor</span>
    <span class="code-function">LinkedList</span>() : <span class="code-function">head</span>(<span class="code-keyword">nullptr</span>), <span class="code-function">size</span>(<span class="code-number">0</span>) {}
    
    <span class="code-comment">// Check if list is empty</span>
    <span class="code-type">bool</span> <span class="code-function">isEmpty</span>() <span class="code-keyword">const</span> {
        <span class="code-keyword">return</span> head == <span class="code-keyword">nullptr</span>;
    }
    
    <span class="code-comment">// Get size of list</span>
    <span class="code-type">size_t</span> <span class="code-function">getSize</span>() <span class="code-keyword">const</span> {
        <span class="code-keyword">return</span> size;
    }
    
    <span class="code-comment">// Insert at beginning</span>
    <span class="code-type">void</span> <span class="code-function">insertAtBeginning</span>(<span class="code-keyword">const</span> T& value) {
        unique_ptr&lt;Node&lt;T&gt;&gt; newNode = make_unique&lt;Node&lt;T&gt;&gt;(value);
        newNode->next = move(head);
        head = move(newNode);
        size++;
    }
    
    <span class="code-comment">// Insert at end</span>
    <span class="code-type">void</span> <span class="code-function">insertAtEnd</span>(<span class="code-keyword">const</span> T& value) {
        unique_ptr&lt;Node&lt;T&gt;&gt; newNode = make_unique&lt;Node&lt;T&gt;&gt;(value);
        
        <span class="code-keyword">if</span> (!head) {
            head = move(newNode);
        } <span class="code-keyword">else</span> {
            Node&lt;T&gt;* current = head.get();
            <span class="code-keyword">while</span> (current->next) {
                current = current->next.get();
            }
            current->next = move(newNode);
        }
        size++;
    }
    
    <span class="code-comment">// Insert at position</span>
    <span class="code-type">bool</span> <span class="code-function">insertAtPosition</span>(<span class="code-keyword">const</span> T& value, <span class="code-type">size_t</span> position) {
        <span class="code-keyword">if</span> (position > size) <span class="code-keyword">return</span> <span class="code-keyword">false</span>;
        
        <span class="code-keyword">if</span> (position == <span class="code-number">0</span>) {
            <span class="code-function">insertAtBeginning</span>(value);
            <span class="code-keyword">return</span> <span class="code-keyword">true</span>;
        }
        
        <span class="code-keyword">if</span> (position == size) {
            <span class="code-function">insertAtEnd</span>(value);
            <span class="code-keyword">return</span> <span class="code-keyword">true</span>;
        }
        
        unique_ptr&lt;Node&lt;T&gt;&gt; newNode = make_unique&lt;Node&lt;T&gt;&gt;(value);
        Node&lt;T&gt;* current = head.get();
        
        <span class="code-keyword">for</span> (<span class="code-type">size_t</span> i = <span class="code-number">0</span>; i < position - <span class="code-number">1</span>; i++) {
            current = current->next.get();
        }
        
        newNode->next = move(current->next);
        current->next = move(newNode);
        size++;
        <span class="code-keyword">return</span> <span class="code-keyword">true</span>;
    }
    
    <span class="code-comment">// Delete from beginning</span>
    <span class="code-type">bool</span> <span class="code-function">deleteFromBeginning</span>() {
        <span class="code-keyword">if</span> (!head) <span class="code-keyword">return</span> <span class="code-keyword">false</span>;
        
        head = move(head->next);
        size--;
        <span class="code-keyword">return</span> <span class="code-keyword">true</span>;
    }
    
    <span class="code-comment">// Delete from end</span>
    <span class="code-type">bool</span> <span class="code-function">deleteFromEnd</span>() {
        <span class="code-keyword">if</span> (!head) <span class="code-keyword">return</span> <span class="code-keyword">false</span>;
        
        <span class="code-keyword">if</span> (!head->next) {
            head.reset();
        } <span class="code-keyword">else</span> {
            Node&lt;T&gt;* current = head.get();
            <span class="code-keyword">while</span> (current->next->next) {
                current = current->next.get();
            }
            current->next.reset();
        }
        size--;
        <span class="code-keyword">return</span> <span class="code-keyword">true</span>;
    }
    
    <span class="code-comment">// Search for value</span>
    <span class="code-type">bool</span> <span class="code-function">search</span>(<span class="code-keyword">const</span> T& value) <span class="code-keyword">const</span> {
        Node&lt;T&gt;* current = head.get();
        
        <span class="code-keyword">while</span> (current) {
            <span class="code-keyword">if</span> (current->data == value) {
                <span class="code-keyword">return</span> <span class="code-keyword">true</span>;
            }
            current = current->next.get();
        }
        
        <span class="code-keyword">return</span> <span class="code-keyword">false</span>;
    }
    
    <span class="code-comment">// Display linked list</span>
    <span class="code-type">void</span> <span class="code-function">display</span>() <span class="code-keyword">const</span> {
        Node&lt;T&gt;* current = head.get();
        
        cout << <span class="code-string">"Linked List: "</span>;
        <span class="code-keyword">while</span> (current) {
            cout << current->data;
            <span class="code-keyword">if</span> (current->next) cout << <span class="code-string">" -> "</span>;
            current = current->next.get();
        }
        cout << <span class="code-string">" -> NULL"</span> << endl;
        cout << <span class="code-string">"Size: "</span> << size << endl;
    }
    
    <span class="code-comment">// Reverse linked list</span>
    <span class="code-type">void</span> <span class="code-function">reverse</span>() {
        Node&lt;T&gt;* prev = <span class="code-keyword">nullptr</span>;
        Node&lt;T&gt;* current = head.get();
        Node&lt;T&gt;* next = <span class="code-keyword">nullptr</span>;
        
        <span class="code-keyword">while</span> (current) {
            next = current->next.get();
            current->next.release();
            current->next.reset(prev);
            prev = current;
            current = next;
        }
        
        head.release();
        head.reset(prev);
    }
};

<span class="code-type">int</span> <span class="code-function">main</span>() {
    LinkedList<<span class="code-type">int</span>> list;
    
    cout << <span class="code-string">"Testing Linked List Implementation\\n"</span> << endl;
    
    <span class="code-comment">// Insert operations</span>
    list.<span class="code-function">insertAtEnd</span>(<span class="code-number">10</span>);
    list.<span class="code-function">insertAtEnd</span>(<span class="code-number">20</span>);
    list.<span class="code-function">insertAtBeginning</span>(<span class="code-number">5</span>);
    list.<span class="code-function">insertAtEnd</span>(<span class="code-number">30</span>);
    list.<span class="code-function">insertAtPosition</span>(<span class="code-number">15</span>, <span class="code-number">2</span>);
    
    list.<span class="code-function">display</span>();
    
    <span class="code-comment">// Search operation</span>
    cout << <span class="code-string">"\\nSearching for 20: "</span> << (list.<span class="code-function">search</span>(<span class="code-number">20</span>) ? <span class="code-string">"Found"</span> : <span class="code-string">"Not Found"</span>) << endl;
    cout << <span class="code-string">"Searching for 100: "</span> << (list.<span class="code-function">search</span>(<span class="code-number">100</span>) ? <span class="code-string">"Found"</span> : <span class="code-string">"Not Found"</span>) << endl;
    
    <span class="code-comment">// Delete operations</span>
    cout << <span class="code-string">"\\nDeleting from beginning..."</span> << endl;
    list.<span class="code-function">deleteFromBeginning</span>();
    list.<span class="code-function">display</span>();
    
    cout << <span class="code-string">"\\nDeleting from end..."</span> << endl;
    list.<span class="code-function">deleteFromEnd</span>();
    list.<span class="code-function">display</span>();
    
    <span class="code-comment">// Reverse operation</span>
    cout << <span class="code-string">"\\nReversing linked list..."</span> << endl;
    list.<span class="code-function">reverse</span>();
    list.<span class="code-function">display</span>();
    
    <span class="code-keyword">return</span> <span class="code-number">0</span>;
}</code></pre>
                                </div>
                            </div>
                        `
                    },
                    complexity: { title: "Complexity Analysis", icon: "fas fa-chart-line", content: `...` },
                    applications: { title: "Applications & Use Cases", icon: "fas fa-rocket", content: `...` }
                },
                functionalities: ['insert', 'delete', 'traverse'],
                defaultArray: [23, 45, 67, 12, 89, 34]
            },
            queue: {
                title: "Queue Data Structure",
                subtitle: "FIFO (First In First Out) data structure",
                icon: "fas fa-stream",
                color: "#3b82f6",
                category: "queue",
                description: "A Queue is a linear data structure that follows the FIFO (First In First Out) principle. Elements are added at the rear and removed from the front.",
                sections: {
                    overview: {
                        title: "Overview",
                        icon: "fas fa-info-circle",
                        content: `
                            <div class="algorithm-steps">
                                <div class="step" style="animation-delay: 0.1s">
                                    <div class="step-number">
                                        <div class="step-circle">1</div>
                                        <div class="step-title">Queue Fundamentals</div>
                                    </div>
                                    <div class="step-content">
                                        <p>A queue is a linear data structure that follows the FIFO (First In First Out) principle. The element that is inserted first will be removed first.</p>
                                        <ul>
                                            <li><strong>Enqueue:</strong> Add an element to the rear of the queue</li>
                                            <li><strong>Dequeue:</strong> Remove an element from the front of the queue</li>
                                            <li><strong>Front:</strong> Get the front element without removing it</li>
                                            <li><strong>Rear:</strong> Get the rear element without removing it</li>
                                            <li><strong>IsEmpty:</strong> Check if queue is empty</li>
                                            <li><strong>IsFull:</strong> Check if queue is full (in fixed-size queues)</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="step" style="animation-delay: 0.2s">
                                    <div class="step-number">
                                        <div class="step-circle">2</div>
                                        <div class="step-title">Queue Operations</div>
                                    </div>
                                    <div class="step-content">
                                        <ul>
                                            <li><strong>enqueue(item):</strong> Adds an item to the rear of the queue</li>
                                            <li><strong>dequeue():</strong> Removes and returns the front item</li>
                                            <li><strong>front():</strong> Returns the front item without removing it</li>
                                            <li><strong>rear():</strong> Returns the rear item without removing it</li>
                                            <li><strong>isEmpty():</strong> Checks if the queue is empty</li>
                                            <li><strong>isFull():</strong> Checks if the queue is full (for fixed-size)</li>
                                            <li><strong>size():</strong> Returns the number of elements in queue</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="step" style="animation-delay: 0.3s">
                                    <div class="step-number">
                                        <div class="step-circle">3</div>
                                        <div class="step-title">Queue Implementation Types</div>
                                    </div>
                                    <div class="step-content">
                                        <ul>
                                            <li><strong>Simple Queue:</strong> Basic FIFO queue</li>
                                            <li><strong>Circular Queue:</strong> Last position connected back to first</li>
                                            <li><strong>Priority Queue:</strong> Elements served based on priority</li>
                                            <li><strong>Deque (Double-ended Queue):</strong> Insert/delete from both ends</li>
                                            <li><strong>Linked List Queue:</strong> Dynamic size using linked list</li>
                                            <li><strong>Array Queue:</strong> Fixed size using array</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        `
                    },
                    cppCode: {
                        title: "C++ Implementation",
                        icon: "fas fa-code",
                        content: `
                            <div class="code-container">
                                <div class="code-header">
                                    <div class="code-title">
                                        <i class="fab fa-cuttlefish"></i>
                                        <span>Complete Queue Implementation</span>
                                    </div>
                                    <div class="code-actions">
                                        <button class="code-btn" onclick="copyCode('queue-cpp')">
                                            <i class="fas fa-copy"></i> Copy
                                        </button>
                                        <button class="code-btn" onclick="runCode('queue')">
                                            <i class="fas fa-play"></i> Run
                                        </button>
                                    </div>
                                </div>
                                <div class="code-body">
                                    <pre id="queue-cpp" class="code-editor"><code class="code-content">#include &lt;iostream&gt;
#include &lt;queue&gt;
#include &lt;vector&gt;

using namespace std;

<span class="code-comment">// Array-based Queue Implementation</span>
<span class="code-keyword">class</span> <span class="code-type">ArrayQueue</span> {
<span class="code-keyword">private</span>:
    <span class="code-type">int</span> front, rear, size;
    <span class="code-type">int</span> capacity;
    <span class="code-type">int</span>* array;
    
<span class="code-keyword">public</span>:
    <span class="code-comment">// Constructor to initialize queue</span>
    <span class="code-function">ArrayQueue</span>(<span class="code-type">int</span> cap) {
        capacity = cap;
        front = size = <span class="code-number">0</span>;
        rear = capacity - <span class="code-number">1</span>;
        array = <span class="code-keyword">new</span> <span class="code-type">int</span>[capacity];
    }
    
    <span class="code-comment">// Destructor</span>
    ~<span class="code-function">ArrayQueue</span>() {
        <span class="code-keyword">delete</span>[] array;
    }
    
    <span class="code-comment">// Check if queue is full</span>
    <span class="code-type">bool</span> <span class="code-function">isFull</span>() {
        <span class="code-keyword">return</span> size == capacity;
    }
    
    <span class="code-comment">// Check if queue is empty</span>
    <span class="code-type">bool</span> <span class="code-function">isEmpty</span>() {
        <span class="code-keyword">return</span> size == <span class="code-number">0</span>;
    }
    
    <span class="code-comment">// Add element to queue</span>
    <span class="code-type">void</span> <span class="code-function">enqueue</span>(<span class="code-type">int</span> item) {
        <span class="code-keyword">if</span> (<span class="code-function">isFull</span>()) {
            cout << <span class="code-string">"Queue overflow!\\n"</span>;
            <span class="code-keyword">return</span>;
        }
        rear = (rear + <span class="code-number">1</span>) % capacity;
        array[rear] = item;
        size++;
        cout << item << <span class="code-string">" enqueued to queue\\n"</span>;
    }
    
    <span class="code-comment">// Remove element from queue</span>
    <span class="code-type">int</span> <span class="code-function">dequeue</span>() {
        <span class="code-keyword">if</span> (<span class="code-function">isEmpty</span>()) {
            cout << <span class="code-string">"Queue underflow!\\n"</span>;
            <span class="code-keyword">return</span> INT_MIN;
        }
        <span class="code-type">int</span> item = array[front];
        front = (front + <span class="code-number">1</span>) % capacity;
        size--;
        <span class="code-keyword">return</span> item;
    }
    
    <span class="code-comment">// Get front element</span>
    <span class="code-type">int</span> <span class="code-function">getFront</span>() {
        <span class="code-keyword">if</span> (<span class="code-function">isEmpty</span>()) {
            cout << <span class="code-string">"Queue is empty!\\n"</span>;
            <span class="code-keyword">return</span> INT_MIN;
        }
        <span class="code-keyword">return</span> array[front];
    }
    
    <span class="code-comment">// Get rear element</span>
    <span class="code-type">int</span> <span class="code-function">getRear</span>() {
        <span class="code-keyword">if</span> (<span class="code-function">isEmpty</span>()) {
            cout << <span class="code-string">"Queue is empty!\\n"</span>;
            <span class="code-keyword">return</span> INT_MIN;
        }
        <span class="code-keyword">return</span> array[rear];
    }
    
    <span class="code-comment">// Get queue size</span>
    <span class="code-type">int</span> <span class="code-function">getSize</span>() {
        <span class="code-keyword">return</span> size;
    }
    
    <span class="code-comment">// Display queue elements</span>
    <span class="code-type">void</span> <span class="code-function">display</span>() {
        <span class="code-keyword">if</span> (<span class="code-function">isEmpty</span>()) {
            cout << <span class="code-string">"Queue is empty\\n"</span>;
            <span class="code-keyword">return</span>;
        }
        
        cout << <span class="code-string">"Queue elements: "</span>;
        <span class="code-keyword">for</span> (<span class="code-type">int</span> i = <span class="code-number">0</span>; i < size; i++) {
            <span class="code-type">int</span> index = (front + i) % capacity;
            cout << array[index] << <span class="code-string">" "</span>;
        }
        cout << endl;
        cout << <span class="code-string">"Front: "</span> << <span class="code-function">getFront</span>() << <span class="code-string">", Rear: "</span> << <span class="code-function">getRear</span>() << <span class="code-string">", Size: "</span> << size << endl;
    }
};

<span class="code-comment">// Linked List based Queue</span>
<span class="code-keyword">template</span> &lt;<span class="code-keyword">typename</span> T&gt;
<span class="code-keyword">class</span> <span class="code-type">LinkedListQueue</span> {
<span class="code-keyword">private</span>:
    <span class="code-keyword">struct</span> <span class="code-type">Node</span> {
        T data;
        Node* next;
        <span class="code-function">Node</span>(T val) : <span class="code-function">data</span>(val), <span class="code-function">next</span>(<span class="code-keyword">nullptr</span>) {}
    };
    
    Node* front;
    Node* rear;
    <span class="code-type">int</span> size;
    
<span class="code-keyword">public</span>:
    <span class="code-function">LinkedListQueue</span>() : <span class="code-function">front</span>(<span class="code-keyword">nullptr</span>), <span class="code-function">rear</span>(<span class="code-keyword">nullptr</span>), <span class="code-function">size</span>(<span class="code-number">0</span>) {}
    
    ~<span class="code-function">LinkedListQueue</span>() {
        <span class="code-keyword">while</span> (!<span class="code-function">isEmpty</span>()) {
            <span class="code-function">dequeue</span>();
        }
    }
    
    <span class="code-type">bool</span> <span class="code-function">isEmpty</span>() {
        <span class="code-keyword">return</span> front == <span class="code-keyword">nullptr</span>;
    }
    
    <span class="code-type">void</span> <span class="code-function">enqueue</span>(T item) {
        Node* newNode = <span class="code-keyword">new</span> <span class="code-function">Node</span>(item);
        
        <span class="code-keyword">if</span> (<span class="code-function">isEmpty</span>()) {
            front = rear = newNode;
        } <span class="code-keyword">else</span> {
            rear->next = newNode;
            rear = newNode;
        }
        size++;
        cout << item << <span class="code-string">" enqueued to queue\\n"</span>;
    }
    
    T <span class="code-function">dequeue</span>() {
        <span class="code-keyword">if</span> (<span class="code-function">isEmpty</span>()) {
            cout << <span class="code-string">"Queue underflow!\\n"</span>;
            <span class="code-keyword">return</span> T();
        }
        
        Node* temp = front;
        T item = front->data;
        front = front->next;
        
        <span class="code-keyword">if</span> (front == <span class="code-keyword">nullptr</span>) {
            rear = <span class="code-keyword">nullptr</span>;
        }
        
        <span class="code-keyword">delete</span> temp;
        size--;
        <span class="code-keyword">return</span> item;
    }
    
    T <span class="code-function">getFront</span>() {
        <span class="code-keyword">if</span> (<span class="code-function">isEmpty</span>()) {
            cout << <span class="code-string">"Queue is empty!\\n"</span>;
            <span class="code-keyword">return</span> T();
        }
        <span class="code-keyword">return</span> front->data;
    }
    
    T <span class="code-function">getRear</span>() {
        <span class="code-keyword">if</span> (<span class="code-function">isEmpty</span>()) {
            cout << <span class="code-string">"Queue is empty!\\n"</span>;
            <span class="code-keyword">return</span> T();
        }
        <span class="code-keyword">return</span> rear->data;
    }
    
    <span class="code-type">int</span> <span class="code-function">getSize</span>() {
        <span class="code-keyword">return</span> size;
    }
    
    <span class="code-type">void</span> <span class="code-function">display</span>() {
        <span class="code-keyword">if</span> (<span class="code-function">isEmpty</span>()) {
            cout << <span class="code-string">"Queue is empty\\n"</span>;
            <span class="code-keyword">return</span>;
        }
        
        cout << <span class="code-string">"Queue elements: "</span>;
        Node* current = front;
        <span class="code-keyword">while</span> (current) {
            cout << current->data << <span class="code-string">" "</span>;
            current = current->next;
        }
        cout << endl;
        cout << <span class="code-string">"Front: "</span> << <span class="code-function">getFront</span>() << <span class="code-string">", Rear: "</span> << <span class="code-function">getRear</span>() << <span class="code-string">", Size: "</span> << size << endl;
    }
};

<span class="code-type">int</span> <span class="code-function">main</span>() {
    cout << <span class="code-string">"=== Array-based Queue Implementation ===\\n"</span>;
    ArrayQueue <span class="code-function">queue</span>(<span class="code-number">5</span>);
    
    queue.<span class="code-function">enqueue</span>(<span class="code-number">10</span>);
    queue.<span class="code-function">enqueue</span>(<span class="code-number">20</span>);
    queue.<span class="code-function">enqueue</span>(<span class="code-number">30</span>);
    queue.<span class="code-function">enqueue</span>(<span class="code-number">40</span>);
    queue.<span class="code-function">enqueue</span>(<span class="code-number">50</span>);
    queue.<span class="code-function">display</span>();
    
    cout << <span class="code-string">"\\nDequeued: "</span> << queue.<span class="code-function">dequeue</span>() << endl;
    cout << <span class="code-string">"Dequeued: "</span> << queue.<span class="code-function">dequeue</span>() << endl;
    queue.<span class="code-function">display</span>();
    
    queue.<span class="code-function">enqueue</span>(<span class="code-number">60</span>);
    queue.<span class="code-function">enqueue</span>(<span class="code-number">70</span>);
    queue.<span class="code-function">display</span>();
    
    cout << <span class="code-string">"\\n=== Linked List Queue Implementation ===\\n"</span>;
    LinkedListQueue<<span class="code-type">int</span>> llQueue;
    
    llQueue.<span class="code-function">enqueue</span>(<span class="code-number">100</span>);
    llQueue.<span class="code-function">enqueue</span>(<span class="code-number">200</span>);
    llQueue.<span class="code-function">enqueue</span>(<span class="code-number">300</span>);
    llQueue.<span class="code-function">display</span>();
    
    cout << <span class="code-string">"\\nDequeued: "</span> << llQueue.<span class="code-function">dequeue</span>() << endl;
    llQueue.<span class="code-function">display</span>();
    
    cout << <span class="code-string">"\\nFront element: "</span> << llQueue.<span class="code-function">getFront</span>() << endl;
    cout << <span class="code-string">"Rear element: "</span> << llQueue.<span class="code-function">getRear</span>() << endl;
    cout << <span class="code-string">"Queue size: "</span> << llQueue.<span class="code-function">getSize</span>() << endl;
    
    <span class="code-keyword">return</span> <span class="code-number">0</span>;
}</code></pre>
                                </div>
                            </div>
                        `
                    },
                    complexity: {
                        title: "Complexity Analysis",
                        icon: "fas fa-chart-line",
                        content: `
                            <div class="complexity-chart">
                                <h3>Time & Space Complexity</h3>
                                <div class="chart-grid">
                                    <div class="chart-item">
                                        <div class="chart-label">Enqueue Operation</div>
                                        <div class="chart-value best">O(1)</div>
                                        <div class="chart-description">Constant time for adding element</div>
                                    </div>
                                    <div class="chart-item">
                                        <div class="chart-label">Dequeue Operation</div>
                                        <div class="chart-value best">O(1)</div>
                                        <div class="chart-description">Constant time for removing element</div>
                                    </div>
                                    <div class="chart-item">
                                        <div class="chart-label">Front/Rear Access</div>
                                        <div class="chart-value best">O(1)</div>
                                        <div class="chart-description">Constant time access</div>
                                    </div>
                                    <div class="chart-item">
                                        <div class="chart-label">Space Complexity</div>
                                        <div class="chart-value space">O(n)</div>
                                        <div class="chart-description">Linear space for storing elements</div>
                                    </div>
                                </div>
                                
                                <div class="step" style="animation-delay: 0.4s; margin-top: 2rem;">
                                    <div class="step-number">
                                        <div class="step-circle">4</div>
                                        <div class="step-title">Performance Characteristics</div>
                                    </div>
                                    <div class="step-content">
                                        <p><strong>Array Implementation:</strong></p>
                                        <ul>
                                            <li>Fixed size, may require resizing</li>
                                            <li>Memory efficient (contiguous memory)</li>
                                            <li>Circular queue avoids memory wastage</li>
                                        </ul>
                                        
                                        <p><strong>Linked List Implementation:</strong></p>
                                        <ul>
                                            <li>Dynamic size, no fixed capacity</li>
                                            <li>Extra memory for pointers</li>
                                            <li>Better for variable sized queues</li>
                                        </ul>
                                        
                                        <p><strong>Standard Library (queue):</strong></p>
                                        <ul>
                                            <li>Uses deque by default</li>
                                            <li>Provides all basic operations</li>
                                            <li>Type-safe and efficient</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        `
                    },
                    applications: {
                        title: "Applications & Use Cases",
                        icon: "fas fa-rocket",
                        content: `
                            <div class="algorithm-steps">
                                <div class="step" style="animation-delay: 0.1s">
                                    <div class="step-number">
                                        <div class="step-circle">1</div>
                                        <div class="step-title">Operating Systems</div>
                                    </div>
                                    <div class="step-content">
                                        <ul>
                                            <li><strong>Process Scheduling:</strong> CPU scheduling algorithms</li>
                                            <li><strong>Disk Scheduling:</strong> Disk I/O request handling</li>
                                            <li><strong>Print Spooling:</strong> Managing print jobs</li>
                                            <li><strong>Memory Management:</strong> Page replacement algorithms</li>
                                            <li><strong>Interrupt Handling:</strong> Managing interrupt requests</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="step" style="animation-delay: 0.2s">
                                    <div class="step-number">
                                        <div class="step-circle">2</div>
                                        <div class="step-title">Networking</div>
                                    </div>
                                    <div class="step-content">
                                        <ul>
                                            <li><strong>Packet Buffering:</strong> Network routers and switches</li>
                                            <li><strong>Message Queues:</strong> Inter-process communication</li>
                                            <li><strong>Bandwidth Management:</strong> Traffic shaping</li>
                                            <li><strong>Request Handling:</strong> Web server request queues</li>
                                            <li><strong>Data Streaming:</strong> Audio/video buffering</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="step" style="animation-delay: 0.3s">
                                    <div class="step-number">
                                        <div class="step-circle">3</div>
                                        <div class="step-title">Real-world Applications</div>
                                    </div>
                                    <div class="step-content">
                                        <ul>
                                            <li><strong>Call Center Systems:</strong> Customer service queues</li>
                                            <li><strong>Ticket Booking:</strong> Reservation systems</li>
                                            <li><strong>Breadth-First Search:</strong> Graph traversal algorithm</li>
                                            <li><strong>Cache Implementation:</strong> LRU cache implementation</li>
                                            <li><strong>Simulation:</strong> Discrete event simulation</li>
                                            <li><strong>Task Management:</strong> Job/task scheduling</li>
                                            <li><strong>Data Processing:</strong> Producer-consumer problems</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        `
                    }
                },
                functionalities: ['enqueue', 'dequeue'],
                defaultArray: [10, 20, 30, 40, 50]
            }
        };

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function () {
            initializeApp();
            setupEventListeners();
            setupScrollTop();
        });

        function initializeApp() {
            // Initialize node addresses for linked list
            initializeNodeAddresses();

            // Set initial algorithm
            showDocumentation('bubble');
        }

        function initializeNodeAddresses() {
            nodeAddresses.clear();
            linkedList.forEach((_, index) => {
                nodeAddresses.set(index, generateAddress());
            });
        }

        function generateAddress() {
            const hex = '0123456789ABCDEF';
            let address = '0x';
            for (let i = 0; i < 8; i++) {
                address += hex[Math.floor(Math.random() * 16)];
            }
            return address;
        }

        function filterAlgorithms(category) {
            const cards = document.querySelectorAll('.algorithm-card');
            const buttons = document.querySelectorAll('.category-btn');

            // Update active button
            buttons.forEach(btn => btn.classList.remove('active'));
            event.currentTarget.classList.add('active');

            // Filter cards
            cards.forEach(card => {
                if (category === 'all' || card.dataset.category === category) {
                    card.style.display = 'block';
                    setTimeout(() => {
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    }, 10);
                } else {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(20px)';
                    setTimeout(() => {
                        card.style.display = 'none';
                    }, 300);
                }
            });
        }

        function showDocumentation(algo) {
            currentAlgorithm = algo;
            const doc = documentation[algo];
            const docSection = document.getElementById('documentation');

            // Update documentation title
            document.getElementById('docTitleText').textContent = doc.title;
            document.getElementById('docSubtitle').textContent = doc.subtitle;
            document.getElementById('docIcon').innerHTML = `<i class="${doc.icon}"></i>`;
            document.getElementById('docIcon').style.background = `linear-gradient(135deg, ${doc.color}, ${darkenColor(doc.color)})`;

            // Build navigation
            buildDocNavigation(doc);

            // Show first section
            showDocSection(Object.keys(doc.sections)[0]);

            // Build functionality navigation
            buildFunctionalityNavigation(doc);

            // Show visualization section
            showFunctionality(doc.functionalities[0]);

            // Show documentation
            docSection.classList.add('active');

            // Scroll to documentation
            setTimeout(() => {
                docSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);
        }

        function buildDocNavigation(doc) {
            const docNav = document.getElementById('docNav');
            docNav.innerHTML = '';

            Object.keys(doc.sections).forEach((sectionKey, index) => {
                const section = doc.sections[sectionKey];
                const button = document.createElement('button');
                button.className = `doc-nav-btn ${index === 0 ? 'active' : ''}`;
                button.innerHTML = `<i class="${section.icon}"></i> ${section.title}`;
                button.onclick = () => showDocSection(sectionKey);
                docNav.appendChild(button);
            });
        }

        function buildFunctionalityNavigation(doc) {
            const funcNav = document.getElementById('functionalityNav');
            funcNav.innerHTML = '';

            doc.functionalities.forEach((func, index) => {
                const button = document.createElement('button');
                button.className = `func-btn ${index === 0 ? 'active' : ''}`;
                button.innerHTML = `<i class="${getFunctionIcon(func)}"></i> ${getFunctionName(func)}`;
                button.onclick = () => showFunctionality(func);
                funcNav.appendChild(button);
            });
        }

        function getFunctionIcon(func) {
            const icons = {
                visualize: 'fas fa-play-circle',
                search: 'fas fa-search',
                insert: 'fas fa-plus-circle',
                delete: 'fas fa-trash',
                traverse: 'fas fa-walking',
                enqueue: 'fas fa-sign-in-alt',
                dequeue: 'fas fa-sign-out-alt'
            };
            return icons[func] || 'fas fa-cog';
        }

        function getFunctionName(func) {
            const names = {
                visualize: 'Visualize',
                search: 'Search',
                insert: 'Insert',
                delete: 'Delete',
                traverse: 'Traverse',
                enqueue: 'Enqueue',
                dequeue: 'Dequeue'
            };
            return names[func] || func;
        }

        function showDocSection(sectionKey) {
            const doc = documentation[currentAlgorithm];
            const docSections = document.getElementById('docSections');
            const buttons = document.querySelectorAll('.doc-nav-btn');

            // Update active button
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            // Show section content
            docSections.innerHTML = `
                <div class="doc-section active">
                    ${doc.sections[sectionKey].content}
                </div>
            `;

            // Apply syntax highlighting
            setTimeout(applySyntaxHighlighting, 100);
        }

        function showFunctionality(func) {
            currentFunctionality = func;

            // Update active functionality button
            document.querySelectorAll('.func-btn').forEach(btn => btn.classList.remove('active'));
            event.currentTarget.classList.add('active');

            // Initialize data based on algorithm
            if (currentAlgorithm === 'linkedlist') {
                initializeNodeAddresses();
                updateLinkedListVisualization();
            } else if (currentAlgorithm === 'queue') {
                updateQueueVisualization();
            } else {
                currentArray = [...documentation[currentAlgorithm].defaultArray];
                if (func === 'search') {
                    updateArrayVisualization();
                } else {
                    updateGraphVisualization();
                }
            }

            // Reset metrics
            resetMetrics();
            updateInfoPanel();

            // Build controls
            buildControls(func);

            // Build visualization
            buildVisualization(func);
        }

        function buildControls(func) {
            const controlsGrid = document.getElementById('controlsGrid');

            if (currentAlgorithm === 'linkedlist') {
                if (func === 'insert') {
                    controlsGrid.innerHTML = `
                        <div class="control-group">
                            <label class="control-label"><i class="fas fa-sliders-h"></i> Controls</label>
                            <div class="control-buttons">
                                <button class="control-btn btn-primary" onclick="startInsertion()">
                                    <i class="fas fa-plus"></i> Insert Node
                                </button>
                                <button class="control-btn btn-warning" onclick="generateRandomList()">
                                    <i class="fas fa-random"></i> Random List
                                </button>
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label"><i class="fas fa-bullseye"></i> Insert Position</label>
                            <select class="control-select" id="insertPosition">
                                <option value="0">Beginning</option>
                                <option value="end">End</option>
                                <option value="middle">Middle</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label class="control-label"><i class="fas fa-hashtag"></i> Node Value</label>
                            <input type="number" class="control-input" id="nodeValue" min="1" max="100" value="50">
                        </div>
                        <div class="control-group">
                            <label class="control-label"><i class="fas fa-tachometer-alt"></i> Speed</label>
                            <select class="control-select" id="speed" onchange="changeSpeed(this.value)">
                                <option value="1000">Slow</option>
                                <option value="500" selected>Medium</option>
                                <option value="250">Fast</option>
                                <option value="100">Very Fast</option>
                            </select>
                        </div>
                    `;
                } else if (func === 'delete') {
                    controlsGrid.innerHTML = `
                        <div class="control-group">
                            <label class="control-label"><i class="fas fa-sliders-h"></i> Controls</label>
                            <div class="control-buttons">
                                <button class="control-btn btn-danger" onclick="startDeletion()">
                                    <i class="fas fa-trash"></i> Delete Node
                                </button>
                                <button class="control-btn btn-warning" onclick="generateRandomList()">
                                    <i class="fas fa-random"></i> Random List
                                </button>
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label"><i class="fas fa-bullseye"></i> Delete Position</label>
                            <select class="control-select" id="deletePosition">
                                <option value="0">Beginning</option>
                                <option value="end">End</option>
                                <option value="middle">Middle</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label class="control-label"><i class="fas fa-tachometer-alt"></i> Speed</label>
                            <select class="control-select" id="speed" onchange="changeSpeed(this.value)">
                                <option value="1000">Slow</option>
                                <option value="500" selected>Medium</option>
                                <option value="250">Fast</option>
                                <option value="100">Very Fast</option>
                            </select>
                        </div>
                    `;
                } else if (func === 'traverse') {
                    controlsGrid.innerHTML = `
                        <div class="control-group">
                            <label class="control-label"><i class="fas fa-sliders-h"></i> Controls</label>
                            <div class="control-buttons">
                                <button class="control-btn btn-info" onclick="animateTraversal()">
                                    <i class="fas fa-walking"></i> Traverse
                                </button>
                                <button class="control-btn btn-warning" onclick="generateRandomList()">
                                    <i class="fas fa-random"></i> Random List
                                </button>
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label"><i class="fas fa-tachometer-alt"></i> Speed</label>
                            <select class="control-select" id="speed" onchange="changeSpeed(this.value)">
                                <option value="1000">Slow</option>
                                <option value="500" selected>Medium</option>
                                <option value="250">Fast</option>
                                <option value="100">Very Fast</option>
                            </select>
                        </div>
                    `;
                }
            } else if (currentAlgorithm === 'queue') {
                if (func === 'enqueue') {
                    controlsGrid.innerHTML = `
                        <div class="control-group">
                            <label class="control-label"><i class="fas fa-sliders-h"></i> Queue Controls</label>
                            <div class="control-buttons">
                                <button class="control-btn btn-primary" onclick="enqueueAtFront()">
                                    <i class="fas fa-plus"></i> Enqueue at Front
                                </button>
                                <button class="control-btn btn-success" onclick="enqueueAtRear()">
                                    <i class="fas fa-plus-circle"></i> Enqueue at Rear
                                </button>
                                <button class="control-btn btn-warning" onclick="generateRandomQueue()">
                                    <i class="fas fa-random"></i> Random Queue
                                </button>
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label"><i class="fas fa-hashtag"></i> Element Value</label>
                            <input type="number" class="control-input" id="queueValue" min="1" max="100" value="60">
                        </div>
                        <div class="control-group">
                            <label class="control-label"><i class="fas fa-tachometer-alt"></i> Speed</label>
                            <select class="control-select" id="speed" onchange="changeSpeed(this.value)">
                                <option value="1000">Slow</option>
                                <option value="500" selected>Medium</option>
                                <option value="250">Fast</option>
                                <option value="100">Very Fast</option>
                            </select>
                        </div>
                    `;
                } else if (func === 'dequeue') {
                    controlsGrid.innerHTML = `
                        <div class="control-group">
                            <label class="control-label"><i class="fas fa-sliders-h"></i> Queue Controls</label>
                            <div class="control-buttons">
                                <button class="control-btn btn-danger" onclick="dequeueFromFront()">
                                    <i class="fas fa-minus"></i> Dequeue from Front
                                </button>
                                <button class="control-btn btn-warning" onclick="dequeueFromRear()">
                                    <i class="fas fa-minus-circle"></i> Dequeue from Rear
                                </button>
                                <button class="control-btn btn-warning" onclick="generateRandomQueue()">
                                    <i class="fas fa-random"></i> Random Queue
                                </button>
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label"><i class="fas fa-bullseye"></i> Dequeue Position</label>
                            <select class="control-select" id="dequeuePosition">
                                <option value="front">Front (FIFO)</option>
                                <option value="rear">Rear (LIFO)</option>
                                <option value="middle">Middle (Custom)</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label class="control-label"><i class="fas fa-tachometer-alt"></i> Speed</label>
                            <select class="control-select" id="speed" onchange="changeSpeed(this.value)">
                                <option value="1000">Slow</option>
                                <option value="500" selected>Medium</option>
                                <option value="250">Fast</option>
                                <option value="100">Very Fast</option>
                            </select>
                        </div>
                    `;
                }
            } else if (func === 'search') {
                controlsGrid.innerHTML = `
                    <div class="control-group">
                        <label class="control-label"><i class="fas fa-sliders-h"></i> Array Controls</label>
                        <div class="control-buttons">
                            <button class="control-btn btn-primary" onclick="addElement()">
                                <i class="fas fa-plus"></i> Add
                            </button>
                            <button class="control-btn btn-danger" onclick="removeElement()">
                                <i class="fas fa-minus"></i> Remove
                            </button>
                            <button class="control-btn btn-warning" onclick="generateRandomArray()">
                                <i class="fas fa-random"></i> Random
                            </button>
                            <button class="control-btn btn-info" onclick="customElement()">
                                <i class="fas fa-edit"></i> Custom
                            </button>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label"><i class="fas fa-bullseye"></i> Search Target</label>
                        <input type="number" class="control-input" id="targetValue" min="1" max="100" value="${currentAlgorithm === 'binary' ? '55' : '45'}">
                    </div>
                    <div class="control-group">
                        <label class="control-label"><i class="fas fa-tachometer-alt"></i> Speed</label>
                        <select class="control-select" id="speed" onchange="changeSpeed(this.value)">
                            <option value="1000">Slow</option>
                            <option value="500" selected>Medium</option>
                            <option value="250">Fast</option>
                            <option value="100">Very Fast</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label class="control-label"><i class="fas fa-play"></i> Start Search</label>
                        <button class="visualize-btn" onclick="startSearch()">
                            <i class="fas fa-search"></i> ${currentAlgorithm === 'linear' ? 'Linear Search' : 'Binary Search'}
                        </button>
                    </div>
                `;
            } else if (func === 'visualize') {
                controlsGrid.innerHTML = `
                    <div class="control-group">
                        <label class="control-label"><i class="fas fa-sliders-h"></i> Array Controls</label>
                        <div class="control-buttons">
                            <button class="control-btn btn-primary" onclick="addElement()">
                                <i class="fas fa-plus"></i> Add
                            </button>
                            <button class="control-btn btn-danger" onclick="removeElement()">
                                <i class="fas fa-minus"></i> Remove
                            </button>
                            <button class="control-btn btn-warning" onclick="generateRandomArray()">
                                <i class="fas fa-random"></i> Random
                            </button>
                            <button class="control-btn btn-info" onclick="customElement()">
                                <i class="fas fa-edit"></i> Custom
                            </button>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label"><i class="fas fa-tachometer-alt"></i> Speed</label>
                        <select class="control-select" id="speed" onchange="changeSpeed(this.value)">
                            <option value="1000">Slow</option>
                            <option value="500" selected>Medium</option>
                            <option value="250">Fast</option>
                            <option value="100">Very Fast</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label class="control-label"><i class="fas fa-play"></i> Start Visualization</label>
                        <button class="visualize-btn" onclick="startVisualization()">
                            <i class="fas fa-play"></i> Visualize ${documentation[currentAlgorithm].title}
                        </button>
                    </div>
                `;
            }
        }

        function buildVisualization(func) {
            const visualizationArea = document.getElementById('visualizationArea');

            if (currentAlgorithm === 'linkedlist') {
                visualizationArea.innerHTML = `
                    <div class="head-pointer" id="headPointer">
                        <i class="fas fa-arrow-right"></i> Head
                    </div>
                    <div class="traversing-pointer" id="traversingPointer" style="display: none;">
                        <i class="fas fa-walking"></i> Current
                    </div>
                    <div class="linked-list-container" id="linkedListContainer">
                        <!-- Linked list nodes will be dynamically added here -->
                    </div>
                `;
                updateLinkedListVisualization();
            } else if (currentAlgorithm === 'queue') {
                visualizationArea.innerHTML = `
                    <div class="queue-container">
                        <div class="queue-visualization" id="queueVisualization">
                            <!-- Queue elements will be dynamically added here -->
                        </div>
                        <div class="queue-status">
                            <div class="queue-info" id="queueInfo">
                                <!-- Queue info will be dynamically added here -->
                            </div>
                        </div>
                    </div>
                `;
                updateQueueVisualization();
            } else if (func === 'visualize') {
                visualizationArea.innerHTML = `
                    <div class="array-container" id="graphContainer">
                        <!-- Array bars will be dynamically added here -->
                    </div>
                `;
                updateGraphVisualization();
            } else if (func === 'search') {
                visualizationArea.innerHTML = `
                    <div class="array-container" id="arrayContainer">
                        <!-- Array elements will be dynamically added here -->
                    </div>
                `;
                updateArrayVisualization();
            }
        }

        function updateGraphVisualization() {
            const container = document.getElementById('graphContainer');
            if (!container) return;

            container.innerHTML = '';
            const maxValue = Math.max(...currentArray);

            currentArray.forEach((value, index) => {
                const element = document.createElement('div');
                element.className = 'array-element';
                element.style.height = `${(value / maxValue) * 250}px`;
                element.innerHTML = `
                    <div class="element-value">${value}</div>
                    <div class="element-index">${index}</div>
                `;
                element.dataset.index = index;
                element.dataset.value = value;
                container.appendChild(element);
            });
        }

        function updateArrayVisualization() {
            const container = document.getElementById('arrayContainer');
            if (!container) return;

            container.innerHTML = '';

            currentArray.forEach((value, index) => {
                const element = document.createElement('div');
                element.className = 'array-element';
                element.style.height = '60px';
                element.innerHTML = `
                    <div class="element-value">${value}</div>
                    <div class="element-index">${index}</div>
                `;
                element.dataset.index = index;
                element.dataset.value = value;
                container.appendChild(element);
            });
        }

        function updateLinkedListVisualization() {
            const container = document.getElementById('linkedListContainer');
            if (!container) return;

            container.innerHTML = '';

            if (linkedList.length === 0) {
                container.innerHTML = '<div style="text-align: center; padding: 2rem; color: var(--text-light);">Empty Linked List</div>';
                return;
            }

            linkedList.forEach((value, index) => {
                const node = document.createElement('div');
                node.className = 'linked-list-node';
                node.innerHTML = `
                    <div class="node-header">
                        <div class="node-data">${value}</div>
                        <div class="node-index">Node ${index}</div>
                    </div>
                    <div class="node-pointers">
                        <div class="pointer">
                            <span class="pointer-label">Next:</span>
                            <span class="pointer-address">${index < linkedList.length - 1 ? nodeAddresses.get(index + 1) : 'NULL'}</span>
                        </div>
                    </div>
                `;
                node.dataset.index = index;
                node.dataset.address = nodeAddresses.get(index);
                container.appendChild(node);

                // Add arrow if not last node
                if (index < linkedList.length - 1) {
                    const arrow = document.createElement('div');
                    arrow.className = 'linked-list-arrow';
                    arrow.innerHTML = '';
                    arrow.dataset.from = index;
                    arrow.dataset.to = index + 1;
                    container.appendChild(arrow);
                }
            });
        }

        function updateQueueVisualization() {
            const container = document.getElementById('queueVisualization');
            if (!container) return;

            container.innerHTML = '';

            if (queue.length === 0) {
                container.innerHTML = '<div style="text-align: center; padding: 2rem; color: var(--text-light);">Empty Queue</div>';
                updateQueueInfo();
                return;
            }

            // Add front pointer
            if (queue.length > 0) {
                const frontPointer = document.createElement('div');
                frontPointer.className = 'front-pointer';
                frontPointer.innerHTML = '<i class="fas fa-arrow-down"></i> Front';
                frontPointer.style.left = '50px';
                container.appendChild(frontPointer);
            }

            // Add rear pointer
            if (queue.length > 0) {
                const rearPointer = document.createElement('div');
                rearPointer.className = 'rear-pointer';
                rearPointer.innerHTML = '<i class="fas fa-arrow-up"></i> Rear';
                rearPointer.style.right = '50px';
                container.appendChild(rearPointer);
            }

            // Add queue elements
            queue.forEach((value, index) => {
                const element = document.createElement('div');
                element.className = 'queue-element';
                element.innerHTML = `
                    <div class="queue-value">${value}</div>
                    <div class="queue-position">${index}</div>
                `;
                element.dataset.index = index;
                element.dataset.value = value;
                container.appendChild(element);
            });

            updateQueueInfo();
        }

        function updateQueueInfo() {
            const queueInfo = document.getElementById('queueInfo');
            if (!queueInfo) return;

            queueInfo.innerHTML = `
                <div class="info-item">
                    <div class="info-value front-value">${queue.length > 0 ? queue[0] : 'Empty'}</div>
                    <div class="info-label">Front Element</div>
                </div>
                <div class="info-item">
                    <div class="info-value rear-value">${queue.length > 0 ? queue[queue.length - 1] : 'Empty'}</div>
                    <div class="info-label">Rear Element</div>
                </div>
                <div class="info-item">
                    <div class="info-value size-value">${queue.length}</div>
                    <div class="info-label">Queue Size</div>
                </div>
                <div class="info-item">
                    <div class="info-value operations-count">${metrics.enqueueCount + metrics.dequeueCount}</div>
                    <div class="info-label">Total Operations</div>
                </div>
            `;
        }

        function updateInfoPanel() {
            const infoGrid = document.getElementById('infoGrid');
            const doc = documentation[currentAlgorithm];

            let infoHTML = `
                <div class="info-card">
                    <div class="info-icon">
                        <i class="fas fa-layer-group"></i>
                    </div>
                    <div class="info-value array-size">${currentAlgorithm === 'linkedlist' ? linkedList.length : currentAlgorithm === 'queue' ? queue.length : currentArray.length}</div>
                    <div class="info-label">${currentAlgorithm === 'linkedlist' ? 'Nodes' : currentAlgorithm === 'queue' ? 'Elements' : 'Elements'}</div>
                </div>
                
                <div class="info-card">
                    <div class="info-icon">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <div class="info-value operations-count">${metrics.operations}</div>
                    <div class="info-label">Operations</div>
                </div>
                
                <div class="info-card">
                    <div class="info-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="info-value time-taken">${metrics.time}ms</div>
                    <div class="info-label">Time Taken</div>
                </div>
            `;

            if (currentAlgorithm === 'linkedlist') {
                if (currentFunctionality === 'traverse') {
                    infoHTML += `
                        <div class="info-card">
                            <div class="info-icon">
                                <i class="fas fa-shoe-prints"></i>
                            </div>
                            <div class="info-value comparison-count">${metrics.traversalSteps}</div>
                            <div class="info-label">Traversal Steps</div>
                        </div>
                    `;
                }
            } else if (currentAlgorithm === 'queue') {
                infoHTML += `
                    <div class="info-card">
                        <div class="info-icon">
                            <i class="fas fa-sign-in-alt"></i>
                        </div>
                        <div class="info-value enqueue-count">${metrics.enqueueCount}</div>
                        <div class="info-label">Enqueue Count</div>
                    </div>
                    
                    <div class="info-card">
                        <div class="info-icon">
                            <i class="fas fa-sign-out-alt"></i>
                        </div>
                        <div class="info-value dequeue-count">${metrics.dequeueCount}</div>
                        <div class="info-label">Dequeue Count</div>
                    </div>
                `;
            } else if (currentFunctionality === 'search') {
                infoHTML += `
                    <div class="info-card">
                        <div class="info-icon">
                            <i class="fas fa-search"></i>
                        </div>
                        <div class="info-value comparison-count">${metrics.comparisons}</div>
                        <div class="info-label">Comparisons</div>
                    </div>
                    
                    <div class="info-card">
                        <div class="info-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="info-value found-index">${metrics.foundIndex !== -1 ? metrics.foundIndex : '-1'}</div>
                        <div class="info-label">Found Index</div>
                    </div>
                `;
            } else if (currentFunctionality === 'visualize') {
                infoHTML += `
                    <div class="info-card">
                        <div class="info-icon">
                            <i class="fas fa-exchange-alt"></i>
                        </div>
                        <div class="info-value comparison-count">${metrics.comparisons}</div>
                        <div class="info-label">Comparisons</div>
                    </div>
                    
                    <div class="info-card">
                        <div class="info-icon">
                            <i class="fas fa-random"></i>
                        </div>
                        <div class="info-value swap-count">${metrics.swaps}</div>
                        <div class="info-label">Swaps</div>
                    </div>
                `;
            }

            infoGrid.innerHTML = infoHTML;
        }

        // Queue Operations
        async function enqueueAtFront() {
            if (visualizationRunning) return;
            visualizationRunning = true;

            const value = parseInt(document.getElementById('queueValue').value) || 60;

            // Add to front of queue
            queue.unshift(value);
            metrics.enqueueCount++;
            metrics.operations++;
            updateInfoPanel();

            // Update visualization
            updateQueueVisualization();

            // Highlight new element
            const elements = document.querySelectorAll('.queue-element');
            if (elements[0]) {
                elements[0].classList.add('enqueuing');
                await sleep(1000);
                elements[0].classList.remove('enqueuing');
            }

            showToast(`Enqueued ${value} at front`, 'success');
            visualizationRunning = false;
        }

        async function enqueueAtRear() {
            if (visualizationRunning) return;
            visualizationRunning = true;

            const value = parseInt(document.getElementById('queueValue').value) || 60;

            // Add to rear of queue
            queue.push(value);
            metrics.enqueueCount++;
            metrics.operations++;
            updateInfoPanel();

            // Update visualization
            updateQueueVisualization();

            // Highlight new element
            const elements = document.querySelectorAll('.queue-element');
            if (elements[elements.length - 1]) {
                elements[elements.length - 1].classList.add('enqueuing');
                await sleep(1000);
                elements[elements.length - 1].classList.remove('enqueuing');
            }

            showToast(`Enqueued ${value} at rear`, 'success');
            visualizationRunning = false;
        }

        async function dequeueFromFront() {
            if (visualizationRunning) return;
            if (queue.length === 0) {
                showToast('Queue is empty!', 'error');
                return;
            }

            visualizationRunning = true;

            const position = document.getElementById('dequeuePosition')?.value || 'front';
            let removedValue;

            if (position === 'front') {
                // Remove from front (FIFO)
                removedValue = queue.shift();
            } else if (position === 'rear') {
                // Remove from rear (LIFO)
                removedValue = queue.pop();
            } else if (position === 'middle') {
                // Remove from middle
                const middleIndex = Math.floor(queue.length / 2);
                removedValue = queue.splice(middleIndex, 1)[0];
            }

            metrics.dequeueCount++;
            metrics.operations++;
            updateInfoPanel();

            // Update visualization
            updateQueueVisualization();

            showToast(`Dequeued ${removedValue} from ${position}`, 'warning');
            visualizationRunning = false;
        }

        async function dequeueFromRear() {
            if (visualizationRunning) return;
            if (queue.length === 0) {
                showToast('Queue is empty!', 'error');
                return;
            }

            visualizationRunning = true;

            // Remove from rear
            const removedValue = queue.pop();
            metrics.dequeueCount++;
            metrics.operations++;
            updateInfoPanel();

            // Update visualization
            updateQueueVisualization();

            showToast(`Dequeued ${removedValue} from rear`, 'warning');
            visualizationRunning = false;
        }

        function generateRandomQueue() {
            const size = Math.floor(Math.random() * 6) + 4;
            queue = [];
            for (let i = 0; i < size; i++) {
                queue.push(Math.floor(Math.random() * 100) + 1);
            }
            metrics.operations++;
            updateQueueVisualization();
            updateInfoPanel();
            showToast(`Generated new queue with ${size} elements`, 'success');
        }

        // Enhanced Linked List Animations
        async function startInsertion() {
            if (visualizationRunning) return;
            visualizationRunning = true;

            const positionSelect = document.getElementById('insertPosition');
            const nodeValue = parseInt(document.getElementById('nodeValue').value) || 50;
            const position = positionSelect.value;

            metrics.operations++;
            updateInfoPanel();

            // Show new node animation
            await showNewNodeAnimation(nodeValue);

            if (position === '0') {
                await insertAtBeginning(nodeValue);
            } else if (position === 'end') {
                await insertAtEnd(nodeValue);
            } else if (position === 'middle') {
                await insertAtMiddle(nodeValue);
            }

            visualizationRunning = false;
        }

        async function showNewNodeAnimation(value) {
            const newNode = document.createElement('div');
            newNode.className = 'new-node';
            newNode.textContent = value;
            newNode.style.position = 'fixed';
            newNode.style.top = '100px';
            newNode.style.left = '50px';
            document.body.appendChild(newNode);

            await sleep(2000);
            newNode.remove();
        }

        async function insertAtBeginning(value) {
            // Add traversing pointer animation from head
            const traversingPointer = document.getElementById('traversingPointer');
            traversingPointer.style.display = 'block';
            traversingPointer.style.left = '30px';
            traversingPointer.style.top = '-30px';

            await sleep(speed);

            // Insert at beginning
            linkedList.unshift(value);
            nodeAddresses = new Map();
            initializeNodeAddresses();

            // Show insertion animation
            showToast(`Inserted ${value} at beginning`, 'success');
            updateLinkedListVisualization();
            updateInfoPanel();

            // Highlight new node
            const firstNode = document.querySelector('.linked-list-node');
            if (firstNode) {
                firstNode.classList.add('inserting');
                await sleep(1000);
                firstNode.classList.remove('inserting');
            }

            traversingPointer.style.display = 'none';
        }

        async function insertAtEnd(value) {
            if (linkedList.length === 0) {
                await insertAtBeginning(value);
                return;
            }

            const traversingPointer = document.getElementById('traversingPointer');
            traversingPointer.style.display = 'block';

            // Start from head
            traversingPointer.style.left = '30px';
            traversingPointer.style.top = '-30px';

            const nodes = document.querySelectorAll('.linked-list-node');
            const arrows = document.querySelectorAll('.linked-list-arrow');

            // Traverse to the end
            for (let i = 0; i < nodes.length; i++) {
                if (!visualizationRunning) break;

                // Move traversing pointer
                const nodeRect = nodes[i].getBoundingClientRect();
                traversingPointer.style.left = (nodeRect.left + nodeRect.width / 2 - 30) + 'px';

                // Highlight current node
                nodes[i].classList.add('traversing');
                if (i < arrows.length) {
                    arrows[i].classList.add('traversing');
                }

                metrics.traversalSteps++;
                updateInfoPanel();

                await sleep(speed);

                nodes[i].classList.remove('traversing');
                if (i < arrows.length) {
                    arrows[i].classList.remove('traversing');
                }

                if (i === nodes.length - 1) {
                    // Insert at end
                    linkedList.push(value);
                    nodeAddresses = new Map();
                    initializeNodeAddresses();

                    showToast(`Inserted ${value} at end`, 'success');
                    updateLinkedListVisualization();
                    updateInfoPanel();

                    // Highlight new node
                    const newNodes = document.querySelectorAll('.linked-list-node');
                    newNodes[newNodes.length - 1].classList.add('inserting');
                    await sleep(1000);
                    newNodes[newNodes.length - 1].classList.remove('inserting');
                }
            }

            traversingPointer.style.display = 'none';
        }

        async function insertAtMiddle(value) {
            if (linkedList.length < 2) {
                await insertAtEnd(value);
                return;
            }

            const middleIndex = Math.floor(linkedList.length / 2);
            const traversingPointer = document.getElementById('traversingPointer');
            traversingPointer.style.display = 'block';

            // Start from head
            traversingPointer.style.left = '30px';
            traversingPointer.style.top = '-30px';

            const nodes = document.querySelectorAll('.linked-list-node');
            const arrows = document.querySelectorAll('.linked-list-arrow');

            // Traverse to middle
            for (let i = 0; i <= middleIndex; i++) {
                if (!visualizationRunning) break;

                // Move traversing pointer
                if (nodes[i]) {
                    const nodeRect = nodes[i].getBoundingClientRect();
                    traversingPointer.style.left = (nodeRect.left + nodeRect.width / 2 - 30) + 'px';

                    // Highlight current node
                    nodes[i].classList.add('traversing');
                    if (i < arrows.length) {
                        arrows[i].classList.add('traversing');
                    }

                    metrics.traversalSteps++;
                    updateInfoPanel();

                    await sleep(speed);

                    nodes[i].classList.remove('traversing');
                    if (i < arrows.length) {
                        arrows[i].classList.remove('traversing');
                    }

                    if (i === middleIndex) {
                        // Insert at middle
                        linkedList.splice(middleIndex, 0, value);
                        nodeAddresses = new Map();
                        initializeNodeAddresses();

                        showToast(`Inserted ${value} at position ${middleIndex}`, 'success');
                        updateLinkedListVisualization();
                        updateInfoPanel();

                        // Highlight new node
                        const newNodes = document.querySelectorAll('.linked-list-node');
                        newNodes[middleIndex].classList.add('inserting');
                        await sleep(1000);
                        newNodes[middleIndex].classList.remove('inserting');
                    }
                }
            }

            traversingPointer.style.display = 'none';
        }

        async function startDeletion() {
            if (visualizationRunning) return;
            if (linkedList.length === 0) {
                showToast('Linked list is empty!', 'error');
                return;
            }

            visualizationRunning = true;

            const positionSelect = document.getElementById('deletePosition');
            const position = positionSelect.value;

            metrics.operations++;
            updateInfoPanel();

            if (position === '0') {
                await deleteFromBeginning();
            } else if (position === 'end') {
                await deleteFromEnd();
            } else if (position === 'middle') {
                await deleteFromMiddle();
            }

            visualizationRunning = false;
        }

        async function deleteFromBeginning() {
            const traversingPointer = document.getElementById('traversingPointer');
            traversingPointer.style.display = 'block';
            traversingPointer.style.left = '30px';
            traversingPointer.style.top = '-30px';

            await sleep(speed);

            // Highlight node to be deleted
            const firstNode = document.querySelector('.linked-list-node');
            if (firstNode) {
                firstNode.classList.add('deleting');
                await sleep(1000);

                // Remove from linked list
                const deletedValue = linkedList.shift();
                nodeAddresses = new Map();
                initializeNodeAddresses();

                showToast(`Deleted ${deletedValue} from beginning`, 'warning');
                updateLinkedListVisualization();
                updateInfoPanel();
            }

            traversingPointer.style.display = 'none';
        }

        async function deleteFromEnd() {
            if (linkedList.length <= 1) {
                await deleteFromBeginning();
                return;
            }

            const traversingPointer = document.getElementById('traversingPointer');
            traversingPointer.style.display = 'block';

            // Start from head
            traversingPointer.style.left = '30px';
            traversingPointer.style.top = '-30px';

            const nodes = document.querySelectorAll('.linked-list-node');
            const arrows = document.querySelectorAll('.linked-list-arrow');

            // Traverse to the second last node
            for (let i = 0; i < nodes.length - 1; i++) {
                if (!visualizationRunning) break;

                // Move traversing pointer
                const nodeRect = nodes[i].getBoundingClientRect();
                traversingPointer.style.left = (nodeRect.left + nodeRect.width / 2 - 30) + 'px';

                // Highlight current node
                nodes[i].classList.add('traversing');
                if (i < arrows.length) {
                    arrows[i].classList.add('traversing');
                }

                metrics.traversalSteps++;
                updateInfoPanel();

                await sleep(speed);

                nodes[i].classList.remove('traversing');
                if (i < arrows.length) {
                    arrows[i].classList.remove('traversing');
                }

                if (i === nodes.length - 2) {
                    // Highlight last node for deletion
                    const lastNode = nodes[nodes.length - 1];
                    lastNode.classList.add('deleting');
                    await sleep(1000);

                    // Remove from linked list
                    const deletedValue = linkedList.pop();
                    nodeAddresses = new Map();
                    initializeNodeAddresses();

                    showToast(`Deleted ${deletedValue} from end`, 'warning');
                    updateLinkedListVisualization();
                    updateInfoPanel();
                }
            }

            traversingPointer.style.display = 'none';
        }

        async function deleteFromMiddle() {
            if (linkedList.length <= 2) {
                await deleteFromEnd();
                return;
            }

            const middleIndex = Math.floor(linkedList.length / 2);
            const traversingPointer = document.getElementById('traversingPointer');
            traversingPointer.style.display = 'block';

            // Start from head
            traversingPointer.style.left = '30px';
            traversingPointer.style.top = '-30px';

            const nodes = document.querySelectorAll('.linked-list-node');
            const arrows = document.querySelectorAll('.linked-list-arrow');

            // Traverse to middle node
            for (let i = 0; i <= middleIndex; i++) {
                if (!visualizationRunning) break;

                // Move traversing pointer
                if (nodes[i]) {
                    const nodeRect = nodes[i].getBoundingClientRect();
                    traversingPointer.style.left = (nodeRect.left + nodeRect.width / 2 - 30) + 'px';

                    // Highlight current node
                    nodes[i].classList.add('traversing');
                    if (i < arrows.length) {
                        arrows[i].classList.add('traversing');
                    }

                    metrics.traversalSteps++;
                    updateInfoPanel();

                    await sleep(speed);

                    nodes[i].classList.remove('traversing');
                    if (i < arrows.length) {
                        arrows[i].classList.remove('traversing');
                    }

                    if (i === middleIndex) {
                        // Highlight middle node for deletion
                        nodes[middleIndex].classList.add('deleting');
                        await sleep(1000);

                        // Remove from linked list
                        const deletedValue = linkedList.splice(middleIndex, 1)[0];
                        nodeAddresses = new Map();
                        initializeNodeAddresses();

                        showToast(`Deleted ${deletedValue} from position ${middleIndex}`, 'warning');
                        updateLinkedListVisualization();
                        updateInfoPanel();
                    }
                }
            }

            traversingPointer.style.display = 'none';
        }

        async function animateTraversal() {
            if (visualizationRunning) return;
            if (linkedList.length === 0) {
                showToast('Linked list is empty!', 'error');
                return;
            }

            visualizationRunning = true;

            const traversingPointer = document.getElementById('traversingPointer');
            traversingPointer.style.display = 'block';

            // Start from head
            traversingPointer.style.left = '30px';
            traversingPointer.style.top = '-30px';

            const nodes = document.querySelectorAll('.linked-list-node');
            const arrows = document.querySelectorAll('.linked-list-arrow');

            // Traverse through all nodes
            for (let i = 0; i < nodes.length; i++) {
                if (!visualizationRunning) break;

                // Move traversing pointer
                const nodeRect = nodes[i].getBoundingClientRect();
                traversingPointer.style.left = (nodeRect.left + nodeRect.width / 2 - 30) + 'px';

                // Highlight current node and arrow
                nodes[i].classList.add('traversing');
                if (i < arrows.length) {
                    arrows[i].classList.add('traversing');
                }

                metrics.traversalSteps++;
                updateInfoPanel();

                await sleep(speed);

                nodes[i].classList.remove('traversing');
                if (i < arrows.length) {
                    arrows[i].classList.remove('traversing');
                }
            }

            traversingPointer.style.display = 'none';
            visualizationRunning = false;
            showToast(`Traversal completed. Visited ${nodes.length} nodes.`, 'success');
        }

        // Algorithm Visualizations
        async function visualizeBubbleSort() {
            visualizationRunning = true;
            const startTime = Date.now();
            const arr = [...currentArray];
            const elements = document.querySelectorAll('.array-element');

            for (let i = 0; i < arr.length - 1; i++) {
                for (let j = 0; j < arr.length - i - 1; j++) {
                    if (!visualizationRunning) return;

                    // Highlight comparing elements
                    elements[j].classList.add('comparing');
                    elements[j + 1].classList.add('comparing');
                    metrics.comparisons++;
                    updateInfoPanel();

                    await sleep(speed);

                    if (arr[j] > arr[j + 1]) {
                        // Swap
                        [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]];
                        metrics.swaps++;

                        // Update visualization
                        elements[j].classList.remove('comparing');
                        elements[j + 1].classList.remove('comparing');
                        elements[j].classList.add('swapping');
                        elements[j + 1].classList.add('swapping');

                        // Update heights
                        const maxValue = Math.max(...arr);
                        elements[j].style.height = `${(arr[j] / maxValue) * 250}px`;
                        elements[j + 1].style.height = `${(arr[j + 1] / maxValue) * 250}px`;
                        elements[j].querySelector('.element-value').textContent = arr[j];
                        elements[j + 1].querySelector('.element-value').textContent = arr[j + 1];

                        await sleep(speed);

                        elements[j].classList.remove('swapping');
                        elements[j + 1].classList.remove('swapping');
                    } else {
                        elements[j].classList.remove('comparing');
                        elements[j + 1].classList.remove('comparing');
                    }

                    updateInfoPanel();
                }

                // Mark sorted element
                elements[arr.length - i - 1].classList.add('sorted');
            }

            // Mark all as sorted
            elements[0].classList.add('sorted');

            metrics.time = Date.now() - startTime;
            currentArray = arr;
            visualizationRunning = false;
            updateInfoPanel();
            showToast(`${documentation[currentAlgorithm].title} completed!`, 'success');
        }

        async function visualizeInsertionSort() {
            visualizationRunning = true;
            const startTime = Date.now();
            const arr = [...currentArray];
            const elements = document.querySelectorAll('.array-element');
            const maxValue = Math.max(...arr);

            for (let i = 1; i < arr.length; i++) {
                if (!visualizationRunning) return;

                let key = arr[i];
                let j = i - 1;

                // Highlight current element being inserted
                elements[i].classList.add('current');
                metrics.comparisons++;
                updateInfoPanel();

                await sleep(speed);

                while (j >= 0 && arr[j] > key) {
                    if (!visualizationRunning) return;

                    // Highlight comparison
                    elements[j].classList.add('comparing');
                    metrics.comparisons++;
                    updateInfoPanel();

                    await sleep(speed);

                    // Shift element
                    arr[j + 1] = arr[j];
                    elements[j + 1].style.height = `${(arr[j + 1] / maxValue) * 250}px`;
                    elements[j + 1].querySelector('.element-value').textContent = arr[j + 1];
                    elements[j + 1].classList.add('swapping');

                    await sleep(speed);

                    elements[j].classList.remove('comparing');
                    elements[j + 1].classList.remove('swapping');

                    j--;
                }

                arr[j + 1] = key;
                elements[j + 1].style.height = `${(key / maxValue) * 250}px`;
                elements[j + 1].querySelector('.element-value').textContent = key;
                elements[i].classList.remove('current');

                // Mark as partially sorted
                for (let k = 0; k <= i; k++) {
                    elements[k].classList.add('sorted');
                }

                updateInfoPanel();
            }

            metrics.time = Date.now() - startTime;
            currentArray = arr;
            visualizationRunning = false;
            updateInfoPanel();
            showToast(`${documentation[currentAlgorithm].title} completed!`, 'success');
        }

        async function visualizeSelectionSort() {
            visualizationRunning = true;
            const startTime = Date.now();
            const arr = [...currentArray];
            const elements = document.querySelectorAll('.array-element');
            const maxValue = Math.max(...arr);

            for (let i = 0; i < arr.length - 1; i++) {
                if (!visualizationRunning) return;

                let minIdx = i;
                elements[i].classList.add('current');

                for (let j = i + 1; j < arr.length; j++) {
                    if (!visualizationRunning) return;

                    // Highlight comparison
                    elements[j].classList.add('comparing');
                    metrics.comparisons++;
                    updateInfoPanel();

                    await sleep(speed / 2);

                    if (arr[j] < arr[minIdx]) {
                        if (minIdx !== i) {
                            elements[minIdx].classList.remove('highlight');
                        }
                        minIdx = j;
                        elements[minIdx].classList.add('highlight');
                    }

                    elements[j].classList.remove('comparing');
                    await sleep(speed / 2);
                }

                if (minIdx !== i) {
                    // Swap
                    [arr[i], arr[minIdx]] = [arr[minIdx], arr[i]];
                    metrics.swaps++;

                    // Update visualization
                    elements[i].classList.add('swapping');
                    elements[minIdx].classList.add('swapping');

                    elements[i].style.height = `${(arr[i] / maxValue) * 250}px`;
                    elements[minIdx].style.height = `${(arr[minIdx] / maxValue) * 250}px`;
                    elements[i].querySelector('.element-value').textContent = arr[i];
                    elements[minIdx].querySelector('.element-value').textContent = arr[minIdx];

                    await sleep(speed);

                    elements[i].classList.remove('swapping');
                    elements[minIdx].classList.remove('swapping');
                }

                elements[i].classList.remove('current');
                if (minIdx !== i) {
                    elements[minIdx].classList.remove('highlight');
                }
                elements[i].classList.add('sorted');

                updateInfoPanel();
            }

            elements[arr.length - 1].classList.add('sorted');

            metrics.time = Date.now() - startTime;
            currentArray = arr;
            visualizationRunning = false;
            updateInfoPanel();
            showToast(`${documentation[currentAlgorithm].title} completed!`, 'success');
        }

        async function visualizeLinearSearch() {
            visualizationRunning = true;
            const startTime = Date.now();
            const target = parseInt(document.getElementById('targetValue').value) || 45;
            const elements = document.querySelectorAll('.array-element');

            metrics.comparisons = 0;
            metrics.foundIndex = -1;
            updateInfoPanel();

            // Reset all elements
            elements.forEach(el => {
                el.classList.remove('comparing', 'found', 'current');
            });

            for (let i = 0; i < currentArray.length; i++) {
                if (!visualizationRunning) break;

                elements[i].classList.add('current');
                metrics.comparisons++;
                updateInfoPanel();

                await sleep(speed);

                if (currentArray[i] === target) {
                    elements[i].classList.remove('current');
                    elements[i].classList.add('found');
                    metrics.foundIndex = i;
                    metrics.time = Date.now() - startTime;
                    updateInfoPanel();
                    visualizationRunning = false;
                    showToast(`Found ${target} at index ${i}!`, 'success');
                    return;
                }

                elements[i].classList.remove('current');
                await sleep(speed / 2);
            }

            metrics.time = Date.now() - startTime;
            visualizationRunning = false;
            updateInfoPanel();
            showToast(`${target} not found in array`, 'error');
        }

        async function visualizeBinarySearch() {
            if (visualizationRunning) return;
            visualizationRunning = true;

            const startTime = Date.now();
            const target = parseInt(document.getElementById('targetValue').value) || 55;
            let arr = [...currentArray];

            // Ensure array is sorted for binary search
            arr.sort((a, b) => a - b);
            if (JSON.stringify(arr) !== JSON.stringify(currentArray)) {
                currentArray = arr;
                updateArrayVisualization();
                await sleep(500);
            }

            const elements = document.querySelectorAll('.array-element');

            metrics.comparisons = 0;
            metrics.foundIndex = -1;
            updateInfoPanel();

            // Reset all elements
            elements.forEach(el => {
                el.classList.remove('comparing', 'found', 'current', 'search-area', 'left-pointer', 'right-pointer', 'mid-pointer');
            });

            let left = 0;
            let right = currentArray.length - 1;

            // Create search pointers
            const arrayContainer = document.getElementById('arrayContainer');
            const leftPointer = document.createElement('div');
            leftPointer.className = 'search-pointer left';
            leftPointer.textContent = 'L';
            leftPointer.style.left = '50px';
            leftPointer.style.bottom = '-50px';
            arrayContainer.appendChild(leftPointer);

            const rightPointer = document.createElement('div');
            rightPointer.className = 'search-pointer right';
            rightPointer.textContent = 'R';
            rightPointer.style.right = '50px';
            rightPointer.style.bottom = '-50px';
            arrayContainer.appendChild(rightPointer);

            while (left <= right) {
                if (!visualizationRunning) break;

                const mid = Math.floor((left + right) / 2);

                // Update pointer positions
                updatePointerPosition(leftPointer, left);
                updatePointerPosition(rightPointer, right);

                // Highlight search area
                for (let i = left; i <= right; i++) {
                    elements[i].classList.add('search-area');
                }

                // Highlight middle element
                elements[mid].classList.add('mid-pointer');
                metrics.comparisons++;
                updateInfoPanel();

                await sleep(speed);

                if (currentArray[mid] === target) {
                    // Found the target
                    elements[mid].classList.remove('mid-pointer', 'search-area');
                    elements[mid].classList.add('found');

                    // Remove pointers
                    leftPointer.remove();
                    rightPointer.remove();

                    metrics.foundIndex = mid;
                    metrics.time = Date.now() - startTime;
                    updateInfoPanel();
                    visualizationRunning = false;
                    showToast(`Found ${target} at index ${mid}!`, 'success');
                    return;
                } else if (currentArray[mid] < target) {
                    // Search right half
                    left = mid + 1;

                    // Add mid pointer animation
                    const midPointer = document.createElement('div');
                    midPointer.className = 'search-pointer mid';
                    midPointer.textContent = 'M';
                    updatePointerPosition(midPointer, mid);
                    midPointer.style.bottom = '-80px';
                    arrayContainer.appendChild(midPointer);

                    await sleep(speed / 2);
                    midPointer.remove();
                } else {
                    // Search left half
                    right = mid - 1;

                    // Add mid pointer animation
                    const midPointer = document.createElement('div');
                    midPointer.className = 'search-pointer mid';
                    midPointer.textContent = 'M';
                    updatePointerPosition(midPointer, mid);
                    midPointer.style.bottom = '-80px';
                    arrayContainer.appendChild(midPointer);

                    await sleep(speed / 2);
                    midPointer.remove();
                }

                // Remove highlights
                elements[mid].classList.remove('mid-pointer');
                for (let i = 0; i < currentArray.length; i++) {
                    elements[i].classList.remove('search-area');
                }

                await sleep(speed / 2);
            }

            // Remove pointers
            leftPointer.remove();
            rightPointer.remove();

            metrics.time = Date.now() - startTime;
            visualizationRunning = false;
            updateInfoPanel();
            showToast(`${target} not found in array`, 'error');
        }

        function updatePointerPosition(pointer, index) {
            const elements = document.querySelectorAll('.array-element');
            if (elements[index]) {
                const elementRect = elements[index].getBoundingClientRect();
                const containerRect = document.getElementById('arrayContainer').getBoundingClientRect();
                const leftPosition = elementRect.left - containerRect.left + elementRect.width / 2 - 15;
                pointer.style.left = `${leftPosition}px`;
            }
        }

        // Helper Functions
        function darkenColor(color) {
            // Simple color darkening function
            return color.replace(/\d+/g, num => Math.floor(num * 0.7));
        }

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        function changeSpeed(newSpeed) {
            speed = parseInt(newSpeed);
        }

        function resetMetrics() {
            metrics = {
                comparisons: 0,
                swaps: 0,
                operations: 0,
                time: 0,
                foundIndex: -1,
                traversalSteps: 0,
                enqueueCount: 0,
                dequeueCount: 0
            };
        }

        // Array Operations
        function addElement() {
            if (currentArray.length < 20) {
                const randomValue = Math.floor(Math.random() * 100) + 1;
                currentArray.push(randomValue);
                metrics.operations++;
                updateInfoPanel();
                if (currentFunctionality === 'visualize') {
                    updateGraphVisualization();
                } else {
                    updateArrayVisualization();
                }
                showToast(`Added element ${randomValue}`, 'success');
            } else {
                showToast('Maximum array size reached (20 elements)', 'error');
            }
        }

        function removeElement() {
            if (currentArray.length > 3) {
                const removedValue = currentArray.pop();
                metrics.operations++;
                updateInfoPanel();
                if (currentFunctionality === 'visualize') {
                    updateGraphVisualization();
                } else {
                    updateArrayVisualization();
                }
                showToast(`Removed element ${removedValue}`, 'warning');
            } else {
                showToast('Minimum array size required (3 elements)', 'error');
            }
        }

        function generateRandomArray() {
            const size = Math.floor(Math.random() * 10) + 5;
            currentArray = [];
            for (let i = 0; i < size; i++) {
                currentArray.push(Math.floor(Math.random() * 100) + 1);
            }
            metrics.operations++;
            updateInfoPanel();
            if (currentFunctionality === 'visualize') {
                updateGraphVisualization();
            } else {
                updateArrayVisualization();
            }
            showToast(`Generated new array with ${size} elements`, 'success');
        }

        function customElement() {
            const value = prompt('Enter a number between 1 and 100:');
            const numValue = parseInt(value);

            if (!isNaN(numValue) && numValue >= 1 && numValue <= 100) {
                if (currentArray.length < 20) {
                    currentArray.push(numValue);
                    metrics.operations++;
                    updateInfoPanel();
                    if (currentFunctionality === 'visualize') {
                        updateGraphVisualization();
                    } else {
                        updateArrayVisualization();
                    }
                    showToast(`Added custom element ${numValue}`, 'success');
                } else {
                    showToast('Maximum array size reached (20 elements)', 'error');
                }
            } else if (value !== null) {
                showToast('Please enter a valid number between 1 and 100', 'error');
            }
        }

        // Linked List Operations
        function generateRandomList() {
            const size = Math.floor(Math.random() * 5) + 5;
            linkedList = [];
            for (let i = 0; i < size; i++) {
                linkedList.push(Math.floor(Math.random() * 100) + 1);
            }
            initializeNodeAddresses();
            metrics.operations++;
            updateLinkedListVisualization();
            updateInfoPanel();
            showToast(`Generated new linked list with ${size} nodes`, 'success');
        }

        // Start Visualizations
        function startVisualization() {
            if (visualizationRunning) {
                showToast('Visualization already running', 'warning');
                return;
            }

            resetMetrics();
            updateInfoPanel();

            switch (currentAlgorithm) {
                case 'bubble':
                    visualizeBubbleSort();
                    break;
                case 'insertion':
                    visualizeInsertionSort();
                    break;
                case 'selection':
                    visualizeSelectionSort();
                    break;
                default:
                    showToast('Visualization not available for this algorithm', 'error');
            }
        }

        function startSearch() {
            if (visualizationRunning) {
                showToast('Search already running', 'warning');
                return;
            }

            if (currentAlgorithm === 'binary') {
                visualizeBinarySearch();
            } else if (currentAlgorithm === 'linear') {
                visualizeLinearSearch();
            } else {
                showToast('Search not available for this algorithm', 'error');
            }
        }

        // Code Operations
        function copyCode(elementId) {
            const codeElement = document.getElementById(elementId);
            const text = codeElement.textContent;

            navigator.clipboard.writeText(text)
                .then(() => {
                    const btn = event.target.closest('.code-btn');
                    const originalText = btn.innerHTML;
                    btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
                    btn.style.background = 'var(--success)';

                    setTimeout(() => {
                        btn.innerHTML = originalText;
                        btn.style.background = '';
                    }, 2000);

                    showToast('Code copied to clipboard!', 'success');
                })
                .catch(err => {
                    showToast('Failed to copy code', 'error');
                });
        }

        function runCode(algo) {
            showToast(`Running ${documentation[algo].title} code...`, 'info');
            // In a real application, you would execute the code here
            // This is just a placeholder for demonstration
        }

        // UI Functions
        function hideDocumentation() {
            document.getElementById('documentation').classList.remove('active');
            stopVisualization();
            document.getElementById('algorithmsGrid').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function stopVisualization() {
            visualizationRunning = false;
        }

        function logout() {
            window.location.href = 'logout.php';
        }

        function setupEventListeners() {
            // Add event listeners for keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && document.getElementById('documentation').classList.contains('active')) {
                    hideDocumentation();
                }
            });
        }

        function setupScrollTop() {
            const scrollTopBtn = document.querySelector('.scroll-top');
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 300) {
                    scrollTopBtn.classList.add('show');
                } else {
                    scrollTopBtn.classList.remove('show');
                }
            });
        }

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Toast System
        function showToast(message, type = 'info') {
            const toastContainer = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;

            const icons = {
                success: 'fa-check-circle',
                error: 'fa-exclamation-circle',
                warning: 'fa-exclamation-triangle',
                info: 'fa-info-circle'
            };

            toast.innerHTML = `
                <div class="toast-icon">
                    <i class="fas ${icons[type]}"></i>
                </div>
                <div class="toast-content">
                    <div class="toast-title">${type.charAt(0).toUpperCase() + type.slice(1)}</div>
                    <div class="toast-message">${message}</div>
                </div>
                <button class="toast-close" onclick="this.parentElement.remove()">
                    <i class="fas fa-times"></i>
                </button>
            `;

            toastContainer.appendChild(toast);

            // Auto remove after 5 seconds
            setTimeout(() => {
                if (toast.parentElement) {
                    toast.style.opacity = '0';
                    toast.style.transform = 'translateX(-30px) scale(0.9)';
                    setTimeout(() => toast.remove(), 300);
                }
            }, 5000);
        }

        // Syntax Highlighting
        function applySyntaxHighlighting() {
            const codeElements = document.querySelectorAll('.code-content');

            codeElements.forEach(element => {
                let code = element.textContent;

                // C++ specific highlighting
                const patterns = [
                    { regex: /\b(include|define|ifdef|endif|ifndef)\b/g, className: 'code-macro' },
                    { regex: /\b(int|void|bool|char|double|float|short|long|using|namespace|class|struct|public|private|protected|return|new|delete|if|else|for|while|do|break|continue|switch|case|default|true|false|nullptr|template|typename|const|size_t|unique_ptr|make_unique)\b/g, className: 'code-keyword' },
                    { regex: /\b(cout|cin|endl|vector|string|swap|is_sorted|size|get|reset|release)\b/g, className: 'code-type' },
                    { regex: /\b(Node|LinkedList|ArrayQueue|LinkedListQueue|enqueue|dequeue|getFront|getRear|isFull|isEmpty|getSize|display|insertAtBeginning|insertAtEnd|insertAtPosition|deleteFromBeginning|deleteFromEnd|search|reverse|bubbleSort|insertionSort|selectionSort|linearSearch|binarySearch)\b(?=\s*\()/g, className: 'code-function' },
                    { regex: /("[^"]*")/g, className: 'code-string' },
                    { regex: /(\/\/[^\n]*)/g, className: 'code-comment' },
                    { regex: /\b(\d+)\b/g, className: 'code-number' },
                    { regex: /(\.|->|::)/g, className: 'code-operator' }
                ];

                patterns.forEach(pattern => {
                    code = code.replace(pattern.regex, `<span class="${pattern.className}">$&</span>`);
                });

                element.innerHTML = code;
            });
        }
    </script>
</body>


</html>
